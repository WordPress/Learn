(()=>{"use strict";var e={n:n=>{var i=n&&n.__esModule?()=>n.default:()=>n;return e.d(i,{a:i}),i},d:(n,i)=>{for(var s in i)e.o(i,s)&&!e.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=window.wp.element,i=window.wp.hooks,s=window.wp.i18n,t=window.wp.apiFetch;var o=e.n(t);const a=window.wp.components,c=function({icon:e,size:i=24,...s}){return(0,n.cloneElement)(e,{width:i,height:i,...s})},l=window.wp.primitives,r=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),m=e=>{let{isMultisite:i}=e;const[t,l]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),[u,w]=(0,n.useState)(null),[d,v]=(0,n.useState)(window.senseiHomeLicenseActivation.licenseKey),_="sensei-pro"===window.senseiHomeLicenseActivation.pluginSlug?(0,s.__)("Sensei Pro","sensei-pro"):(0,s.__)("Sensei Blocks","sensei-pro"),h=window.senseiHomeLicenseActivation.domain,g=m?(0,s.sprintf)(
/* translators: %s: Name of the plugin that has been activated */
(0,s.__)("%s successfully activated","sensei-pro"),_):
/* translators: %s: Name of the plugin to be activated */
(0,s.sprintf)((0,s.__)("Activate %s","sensei-pro"),_);return(0,n.createElement)("div",{className:"sensei-pro-sensei-home-license-activation"},(0,n.createElement)("div",{className:"sensei-pro-sensei-home-license-activation__title"},m&&(0,n.createElement)(c,{icon:r}),g),(0,n.createElement)("div",{className:"sensei-pro-sensei-home-license-activation__content"},(0,s.__)("You can find your key by logging in to your SenseiLMS.com account","sensei-pro")," ",(0,n.createElement)(a.ExternalLink,{href:"https://senseilms.com/my-account/"},(0,s.__)("here","sensei-pro")),"."),(0,n.createElement)("div",{className:"sensei-pro-sensei-home-license-activation__content"},i&&(0,n.createInterpolateElement)((0,s.sprintf)(// translators: %s: Name of the plugin being activated.
(0,s.__)("<strong>Multisite Network</strong>: Main site's domain (%s) will be used for activation and the license will be valid for all the sites on the network.","sensei-pro"),h),{strong:(0,n.createElement)("strong",null)})),!m&&(0,n.createElement)("div",{className:"sensei-pro-sensei-home-license-activation__form"},(0,n.createElement)("input",{className:"sensei-pro-sensei-home-license-activation__form-input",value:d,placeholder:(0,s.__)("Enter your license key","sensei-pro"),onChange:e=>v(e.target.value)}),(0,n.createElement)(a.Button,{className:"sensei-pro-sensei-home-license-activation__form-button",onClick:()=>{l(!0),o()({path:"/sensei-pro-internal/v1/sensei-pro-setup/activate-license",method:"POST",data:{license_key:d,plugin_slug:window.senseiHomeLicenseActivation.pluginSlug}}).then((e=>{l(!1),e.success?(p(!0),w(null)):(p(!1),w(e.message))}))},disabled:t,variant:"primary"},t?(0,n.createElement)(a.Spinner,null):(0,s.__)("Activate","sensei-pro"))),u&&(0,n.createElement)("div",{className:"sensei-pro-sensei-home-license-activation__error"},u))};(0,i.addFilter)("sensei.home.top","sensei-pro",(()=>{const e=window.senseiHomeLicenseActivation?.isLicenseActivated,i=!0===window.senseiHomeLicenseActivation?.isMultisite;return e?null:(0,n.createElement)(m,{isMultisite:i})}))})();