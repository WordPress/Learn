!function(){"use strict";var e=window.wp.plugins,n=window.wp.element,s=window.wp.editPost,i=window.wp.i18n,o=window.wp.components,t=window.wp.coreData;const r="expires-after",a=e=>{const[n,s]=(0,t.useEntityProp)("postType","course","meta");return[n[e],n=>s({[e]:n})]};(0,e.registerPlugin)("sensei-pro-course-expiration-plugin",{render:()=>{const[e,t]=a("_course_expiration_type"),[l,p]=a("_course_expiration_length"),[c,_]=a("_course_expiration_period"),u=(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"sensei-wcpc-course-expiration__expires-after"},(0,n.createElement)(o.TextControl,{className:"sensei-wcpc-course-expiration__expiration-length",label:(0,i.__)("Expiration Length","sensei-pro"),hideLabelFromVision:!0,type:"number",step:1,min:1,value:l,onChange:e=>{const n=Math.max(1,parseInt(e.replace(/\D/g,"")||1,10));p(n)},onKeyPress:e=>{/\D/.test(e.key)&&e.preventDefault()}}),(0,n.createElement)(o.SelectControl,{label:(0,i.__)("Expiration Period","sensei-pro"),hideLabelFromVision:!0,value:c,options:[{label:(0,i.__)("Month(s)","sensei-pro"),value:"month"},{label:(0,i.__)("Week(s)","sensei-pro"),value:"week"},{label:(0,i.__)("Day(s)","sensei-pro"),value:"day"}],onChange:_})),"day"===c&&1===l&&(0,n.createElement)("small",{className:"sensei-wcpc-course-expiration__help-text"},(0,i.__)("The learner access will expire at midnight on the day of enrollment.","sensei-pro")));return(0,n.createElement)(s.PluginDocumentSettingPanel,{name:"sensei-wcpc-course-access-period",title:(0,i.__)("Access Period","sensei-pro"),className:"sensei-wcpc-course-expiration"},(0,n.createElement)("p",{className:"sensei-wcpc-course-expiration__intro"},(0,i.__)("Set how long learners will have access to this course.","sensei-pro")),(0,n.createElement)(o.SelectControl,{label:(0,i.__)("Expiration","sensei-pro"),value:e,options:[{label:(0,i.__)("No expiration","sensei-pro"),value:"no-expiration"},{label:(0,i.__)("Expires after","sensei-pro"),value:r}],onChange:t}),r===e&&u)},icon:null})}();