(()=>{const e=jQuery("select#course-woocommerce-product-options"),a=jQuery("#user-confirmation-modal");jQuery(document).ready((function(){e.length>0&&(e.select2({width:"resolve",multiple:!0,placeholder:sensei_admin_course_metadata.product_options_placeholder}),(()=>{const t="sensei-wcpc-date-confirmed";let o=[],l=!1;const c=e=>{const o=window.localStorage.getItem(t);!(o&&Date.now()-o<6048e5)&&e.attributes["data-total-sales"].value>0&&(a.modal({fadeDuration:250,showClose:!1,clickClose:!1,escapeClose:!1,blockerClass:"user-confirmation-modal__overlay"}),l=!0)},n=e=>{l=!1,e&&window.localStorage.setItem(t,Date.now()),jQuery.modal.close()};e.on("select2:select",(a=>{const t=a.params.data.element.attributes.value.value;o=e.val().filter((e=>e!==t)),c(a.params.data.element)})),e.on("select2:unselect",(a=>{o=e.val()?e.val():[],o.push(a.params.data.element.attributes.value.value),c(a.params.data.element)})),e.on("select2:opening",(e=>{l&&e.preventDefault()})),jQuery("#user-confirmation-modal-confirm").on("click",(()=>{n(!0)})),jQuery("#user-confirmation-modal-cancel").on("click",(()=>{n(!1),e.val(o),e.trigger("change")}))})())}))})();