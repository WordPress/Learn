(()=>{"use strict";const t=window.wp.i18n;(()=>{class e{constructor(t){t&&(this.form=t,this.button=t.querySelector("button"),this.variationProductDataHiddenClass="variation-data-hidden",setTimeout((()=>{this.init()}),1))}init=()=>{const t=this.form.querySelector('input[name="product_id"]:checked');this.form.querySelectorAll('input[name="product_id"]').forEach((t=>{t.addEventListener("change",this.onChangeHandler)})),this.updateData(t)};clearData=()=>{this.form.querySelectorAll(`.${this.variationProductDataHiddenClass}`).forEach((t=>{t.parentNode.removeChild(t)}))};updateData=e=>{const a=e.dataset,i=e.parentNode.querySelector(".wp-block-sensei-lms-purchase-course__products__price").innerHTML;this.form.setAttribute("action",a.action),this.button.innerHTML=(0,t.__)("Buy","sensei-pro")+" - "+i,this.clearData(),Object.entries(a).forEach((t=>{let[e,a]=t;const i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",e),i.setAttribute("value",a),i.setAttribute("class",this.variationProductDataHiddenClass),this.form.appendChild(i)}))};onChangeHandler=t=>{this.updateData(t.target)}}document.querySelectorAll(".multiple-products-form").forEach((t=>{new e(t)}))})()})();