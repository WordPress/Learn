!function(){"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var e=window.wp.i18n;(()=>{class i{constructor(i){t(this,"init",(()=>{const t=this.form.querySelector('input[name="product_id"]:checked');this.form.querySelectorAll('input[name="product_id"]').forEach((t=>{t.addEventListener("change",this.onChangeHandler)})),this.updateData(t)})),t(this,"clearData",(()=>{this.form.querySelectorAll(`.${this.variationProductDataHiddenClass}`).forEach((t=>{t.parentNode.removeChild(t)}))})),t(this,"updateData",(t=>{const i=t.dataset,r=t.parentNode.querySelector(".wp-block-sensei-lms-purchase-course__products__price").innerHTML;this.form.setAttribute("action",i.action),this.button.innerHTML=r+" - "+(0,e.__)("Purchase Course","sensei-pro"),this.clearData(),Object.entries(i).forEach((t=>{let[e,i]=t;const r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",e),r.setAttribute("value",i),r.setAttribute("class",this.variationProductDataHiddenClass),this.form.appendChild(r)}))})),t(this,"onChangeHandler",(t=>{this.updateData(t.target)})),i&&(this.form=i,this.button=i.querySelector("button"),this.variationProductDataHiddenClass="variation-data-hidden",setTimeout((()=>{this.init()}),1))}}document.querySelectorAll(".multiple-products-form").forEach((t=>{new i(t)}))})()}();