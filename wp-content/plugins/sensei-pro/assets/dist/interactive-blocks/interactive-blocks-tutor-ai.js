(()=>{var e={4184:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===s)if(r.toString===Object.prototype.toString)for(var a in r)n.call(r,a)&&r[a]&&e.push(a);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},4794:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===s)if(r.toString===Object.prototype.toString)for(var a in r)n.call(r,a)&&r[a]&&e.push(a);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.wp.element,n=window.React;var o,s;function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function a(e){return n.createElement("svg",i({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=n.createElement("path",{d:"M17.566 18.434L17 17l-.566 1.434L15 19l1.434.566L17 21l.566-1.434L19 19l-1.434-.566zM7.566 5.434L7 4l-.566 1.434L5 6l1.434.566L7 8l.566-1.434L9 6l-1.434-.566zM17.849 5.151L17 3l-.849 2.151L14 6l2.151.849L17 9l.849-2.151L20 6l-2.151-.849z",fill:"#1E1E1E"})),s||(s=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.223 8.065a.75.75 0 00-.61 0l-5.168 2.297a.75.75 0 000 1.37l1.852.823v3.36c0 .254.128.49.34.628l.41-.628-.41.628v.001l.003.001.005.003.017.012a8.218 8.218 0 00.28.17c.185.108.444.252.744.397.57.276 1.4.613 2.165.623.793.01 1.658-.328 2.251-.608a10.93 10.93 0 001.067-.58l.018-.01.006-.004.002-.001v-.001l-.405-.63.406.63a.75.75 0 00.344-.63v-3.36l1.851-.824a.75.75 0 000-1.37l-5.168-2.297zm1.816 5.157l-1.816.807a.75.75 0 01-.61 0l-1.816-.807v2.27c.148.083.334.184.542.285.543.262 1.12.468 1.532.473.427.006 1.026-.198 1.592-.465.222-.104.42-.21.577-.297v-2.266zm-2.12-.699l-3.322-1.476 3.321-1.476 3.322 1.476-3.322 1.476z",fill:"#1E1E1E"})))}const l=JSON.parse('{"name":"sensei-pro/tutor-ai","title":"Tutor AI","category":"sensei-lms","apiVersion":2,"supports":{"align":true,"color":true,"sensei":{"blockId":true,"frontend":true,"required":true},"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true}},"attributes":{"question":{"type":"string","default":""},"correctAnswer":{"type":"string","default":""},"reason":{"type":"string","default":""},"limit":{"type":"integer","default":5},"style":{"type":"object","default":{"border":{"width":"1px","radius":"12px","color":"primary"},"spacing":{"padding":{"top":"20px","right":"20px","bottom":"20px","left":"20px"}}}}},"textdomain":"sensei-pro"}'),p=window.wp.i18n,u=window.wp.compose,c=window.wp.hooks,d=window.wp.blockEditor,h=window.wp.components,m=(0,t.createContext)({}),g=[["core/heading",{slot:"title",placeholder:(0,p.__)("Question title","sensei-pro"),level:4,style:{spacing:{padding:{top:"0px",bottom:"20px",left:"0px",right:"0px"}}}}],["sensei-pro/ai-answer",{slot:"answer",style:{border:{radius:"30px"},spacing:{padding:{top:"14px",bottom:"14px",left:"14px",right:"14px"},margin:{top:"0px"}}},backgroundColor:"primary",textColor:"background"}],["sensei-pro/ai-student-response",{slot:"student-answer",style:{border:{radius:"30px",width:"1px",color:"primary"},spacing:{padding:{top:"14px",bottom:"14px",left:"14px",right:"14px"},margin:{top:"20px"}}}}]],f=["core/heading","sensei-pro/ai-answer","sensei-pro/ai-student-response"];(0,c.addFilter)("blocks.registerBlockType","sensei-pro/tutor-ai",(function(e,t){return"core/heading"!==t?e:{...e,edit:(0,u.compose)(w)(e.edit)}}));const w=e=>r=>{const{setAttributes:n,question:o}=(0,t.useContext)(m);return(0,t.useEffect)((()=>{n&&(r.attributes.content&&r.attributes.content.length>100?r.setAttributes({content:o}):n({question:r.attributes.content}))}),[r.attributes.content]),(0,t.createElement)(e,r)},v={...l,title:(0,p.__)("Tutor AI","sensei-pro"),icon:a,description:(0,p.__)("Guide your students in finding the right answer with the help of AI, allowing them to delve deeper into the topic.","sensei-pro"),keywords:[(0,p.__)("tutor","sensei-pro"),(0,p.__)("ai","sensei-pro"),(0,p.__)("question","sensei-pro")],edit:e=>{const{attributes:{question:r,correctAnswer:n,reason:o},setAttributes:s}=e,i=(0,d.useBlockProps)();return(0,t.createElement)("div",i,(0,t.createElement)(d.InspectorControls,null,(0,t.createElement)(h.PanelBody,{title:(0,p.__)("Tutor AI Documentation","sensei-pro")},(0,t.createElement)(h.ExternalLink,{href:"https://senseilms.com/sensei-pro/?utm_source=plugin_sensei&utm_medium=upsell&utm_campaign=tutor-ai"},(0,p.__)("Read how the Tutor AI works","sensei-pro"))),(0,t.createElement)(h.PanelBody,{title:(0,p.__)("Give Tutor AI better context","sensei-pro"),initialOpen:!0},(0,t.createElement)("p",null,(0,p.__)("To help Tutor AI better understand how to guide your students to the correct answer, please provide here a short explanation of why the answer above is the correct one.","sensei-pro")),(0,t.createElement)(h.TextareaControl,{label:(0,p.__)("Why is your answer correct?","sensei-pro"),value:o,onChange:e=>s({reason:e}),className:"sensei-lms-interactive-block-tutor-ai__reason",maxLength:200}),(0,t.createElement)("p",null,"Characters: ",o.length,"/200"))),(0,t.createElement)(m.Provider,{value:{question:r,correctAnswer:n,reason:o,setAttributes:s}},(0,t.createElement)(d.InnerBlocks,{template:g,templateLock:!0,insertBlocksAfter:!1,allowedBlocks:f})))},save:e=>{let{children:r,blockProps:n}=e;return(0,t.createElement)("div",n,r)}};var y,_;function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function x(e){return n.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),y||(y=n.createElement("path",{d:"M12.408 7.277A2.999 2.999 0 009 10.25h1.5c0-.677.375-1.14.886-1.37.512-.228 1.11-.198 1.614.253.504.45.6 1.04.43 1.574-.171.534-.592.958-1.264 1.033l.021-.002a1.034 1.034 0 00-.937.99V14h1.5v-.95c1.02-.28 1.817-.979 2.107-1.888a2.998 2.998 0 00-2.449-3.885z"})),_||(_=n.createElement("path",{d:"M6 4c-1.096 0-2 .904-2 2v12c0 1.096.904 2 2 2h12c1.096 0 2-.904 2-2V6c0-1.096-.904-2-2-2H6zm0 1.5h12c.284 0 .5.216.5.5v12a.49.49 0 01-.5.5H6a.49.49 0 01-.5-.5V6c0-.284.216-.5.5-.5zm5.25 9.5v1.5h1.5V15h-1.5z"})))}const E=JSON.parse('{"name":"sensei-pro/ai-answer","title":"Tutor AI Answer","category":"sensei-lms","apiVersion":2,"supports":{"align":false,"color":true,"sensei":{"blockId":true,"frontend":true,"required":true},"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true}},"attributes":{"style":{"type":"object","default":{"color":{"text":"background","background":"primary"}}}},"textdomain":"sensei-pro"}');function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k.apply(this,arguments)}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}var O=r(4794),j=r.n(O);const B=window.wp.keycodes,P=(0,t.forwardRef)(((e,r)=>{let{onChange:n,onKeyDown:o,value:s,onEnter:i,onRemove:a,...l}=e;return(0,t.createElement)(d.PlainText,A({ref:r,value:s,onChange:e=>{n(e.replace(/\n/g,""))},onKeyDown:e=>{switch(o&&o(e),e.keyCode){case B.ENTER:e.preventDefault(),i&&i(e);break;case B.BACKSPACE:a&&!s?.length&&(e.preventDefault(),a())}}},l,{className:j()("sensei-lms-single-line-input",l.className)}))}));var I=r(4184),L=r.n(I);const S={...E,title:(0,p.__)("AI Answer","sensei-pro"),icon:x,parent:["sensei-pro/tutor-ai"],description:(0,p.__)("Answer to the Tutor AI question.","sensei-pro"),keywords:[(0,p.__)("tutor","sensei-pro"),(0,p.__)("ai","sensei-pro"),(0,p.__)("question","sensei-pro"),(0,p.__)("answer","sensei-pro")],edit:()=>{const e=(0,d.useBlockProps)(),{setAttributes:r,correctAnswer:n}=(0,t.useContext)(m);return(0,t.createElement)("div",k({},e,{className:L()(e.className,"sensei-lms-interactive-block-tutor-ai__answer")}),(0,t.createElement)(a,{fill:e.style?.color,stroke:e.style?.color}),(0,t.createElement)(P,{placeholder:(0,p.__)("Add the correct answer your students should reach with the help of AI","sensei-pro"),value:n,onChange:e=>r({correctAnswer:e}),maxLength:100}))},save:e=>{let{blockProps:r}=e;return(0,t.createElement)("div",r)}},C=JSON.parse('{"name":"sensei-pro/ai-student-response","title":"Student Answer","category":"sensei-lms","apiVersion":2,"supports":{"align":false,"color":true,"sensei":{"blockId":true,"frontend":true,"required":true},"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true}},"attributes":{},"textdomain":"sensei-pro"}'),T=["core/avatar"];[v,S,{...C,title:(0,p.__)("Student Answer","sensei-pro"),icon:x,parent:["sensei-pro/tutor-ai"],description:(0,p.__)("Student's reply to the Tutor AI question.","sensei-pro"),keywords:[(0,p.__)("tutor","sensei-pro"),(0,p.__)("ai","sensei-pro"),(0,p.__)("question","sensei-pro"),(0,p.__)("answer","sensei-pro")],edit:()=>{const e=(0,d.useBlockProps)(),r=(0,p.__)("Student's answer","sensei-pro");return(0,t.createElement)("div",k({},e,{className:L()(e.className,"sensei-lms-interactive-block-tutor-ai__student-answer")}),(0,t.createElement)("div",null,(0,t.createElement)(d.InnerBlocks,{templateLock:!0,template:[["core/avatar",{size:32,style:{border:{radius:"500px"},cursor:"default"},className:"sensei-pro-tutor-ai__user-avatar"}]],insertBlocksAfter:!1,allowedBlocks:T,renderAppender:!1}),(0,t.createElement)("span",null,r)))},save:e=>{let{blockProps:r,children:n}=e;return(0,t.createElement)("div",r,n)}}].forEach((t=>(0,e.registerBlockType)(t.name,t)))})()})();