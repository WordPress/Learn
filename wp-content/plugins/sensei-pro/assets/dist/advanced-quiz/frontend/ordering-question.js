!function(){var e={184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=o.apply(null,n);s&&e.push(s)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.domReady,r=n.n(t);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var i=function({icon:t,size:n=24,...r}){return(0,e.cloneElement)(t,{width:n,height:n,...r})},s=window.wp.primitives,a=(0,e.createElement)(s.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},(0,e.createElement)(s.Path,{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"})),l=n(184),c=n.n(l),u=(0,e.forwardRef)((function(t,n){let{id:r,label:s,questionId:l,isDragging:u,correct:d,...h}=t;const f=void 0!==d,g=c()({"sensei-ordering-answer":!0,"sensei-ordering-answer--draggable":!0,"sensei-ordering-answer--dragging":u,"sensei-ordering-answer--correct":d,"sensei-ordering-answer--wrong":!1===d});return(0,e.createElement)("li",o({ref:n,id:r,className:g},h),(0,e.createElement)("input",{id:`question_${l}_answer-${r}`,type:"hidden",name:`sensei_question[${l}][]`,value:r}),(0,e.createElement)("label",{className:"sensei-ordering-answer__label",htmlFor:`question_${l}_answer-${r}`},(0,e.createElement)("div",{className:"sensei-ordering-answer__icon"},!f&&(0,e.createElement)(i,{icon:a,size:18})),(0,e.createElement)("div",{className:"sensei-ordering-answer__content"},s),f&&(0,e.createElement)("span",{className:"sensei-ordering-answer__result-icon"})))})),d=window.React,h=n.n(d),f=window.ReactDOM;const g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function v(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function p(e){return"nodeType"in e}function m(e){var t,n;return e?v(e)?e:p(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function b(e){const{Document:t}=m(e);return e instanceof t}function w(e){return!v(e)&&e instanceof m(e).HTMLElement}function y(e){return e?v(e)?e.document:p(e)?b(e)?e:w(e)?e.ownerDocument:document:document:document}const x=g?d.useLayoutEffect:d.useEffect;function D(e,t=[e]){const n=(0,d.useRef)(e);return x((()=>{n.current!==e&&(n.current=e)}),t),n}function E(e,t){const n=(0,d.useRef)();return(0,d.useMemo)((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function R(e){const t=D(e),n=(0,d.useRef)(null),r=(0,d.useCallback)((e=>{e!==n.current&&(null==t.current||t.current(e,n.current)),n.current=e}),[]);return[n,r]}let C={};function S(e,t){return(0,d.useMemo)((()=>{if(t)return t;const n=null==C[e]?0:C[e]+1;return C[e]=n,`${e}-${n}`}),[e,t])}function M(e){return(t,...n)=>n.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}const I=M(1),N=M(-1);function O(e){if(!e)return!1;const{KeyboardEvent:t}=m(e.target);return t&&e instanceof t}function T(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=m(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const k=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return`translate3d(${t?Math.round(t):0}px, ${n?Math.round(n):0}px, 0)`}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return`scaleX(${t}) scaleY(${n})`}},Transform:{toString(e){if(e)return[k.Translate.toString(e),k.Scale.toString(e)].join(" ")}},Transition:{toString:({property:e,duration:t,easing:n})=>`${e} ${t}ms ${n}`}}),A={display:"none"};function L({id:e,value:t}){return h().createElement("div",{id:e,style:A},t)}const B={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function j({id:e,announcement:t}){return h().createElement("div",{id:e,style:B,role:"status","aria-live":"assertive","aria-atomic":!0},t)}const z={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},P={onDragStart:e=>`Picked up draggable item ${e}.`,onDragOver:(e,t)=>t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`,onDragEnd:(e,t)=>t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`,onDragCancel:e=>`Dragging was cancelled. Draggable item ${e} was dropped.`};var $;function _(...e){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}($||($={}));class F extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((({disabled:e})=>!e))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const q={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:{},droppableRects:new Map,droppableContainers:new F,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_},scrollableAncestors:[],scrollableAncestorRects:[],measureDroppableContainers:_,windowRect:null,measuringScheduled:!1},K={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:_,draggableNodes:{},over:null,measureDroppableContainers:_},U=(0,d.createContext)(K),X=(0,d.createContext)(q);function Y(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new F}}}function W(e,t){switch(t.type){case $.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case $.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case $.DragEnd:case $.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new F(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case $.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new F(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case $.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new F(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}const V=(0,d.createContext)({type:null,event:null});function H({announcements:e=P,hiddenTextDescribedById:t,screenReaderInstructions:n}){const{announce:r,announcement:o}=function(){const[e,t]=(0,d.useState)("");return{announce:(0,d.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),i=S("DndLiveRegion"),[s,a]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{a(!0)}),[]),function({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:r,onDragCancel:o}){const i=(0,d.useContext)(V),s=(0,d.useRef)(i);(0,d.useEffect)((()=>{if(i!==s.current){const{type:a,event:l}=i;switch(a){case $.DragStart:null==e||e(l);break;case $.DragMove:null==t||t(l);break;case $.DragOver:null==n||n(l);break;case $.DragCancel:null==o||o(l);break;case $.DragEnd:null==r||r(l)}s.current=i}}),[i,e,t,n,r,o])}((0,d.useMemo)((()=>({onDragStart({active:t}){r(e.onDragStart(t.id))},onDragMove({active:t,over:n}){e.onDragMove&&r(e.onDragMove(t.id,null==n?void 0:n.id))},onDragOver({active:t,over:n}){r(e.onDragOver(t.id,null==n?void 0:n.id))},onDragEnd({active:t,over:n}){r(e.onDragEnd(t.id,null==n?void 0:n.id))},onDragCancel({active:t}){r(e.onDragCancel(t.id))}})),[r,e])),s?(0,f.createPortal)(h().createElement(h().Fragment,null,h().createElement(L,{id:t,value:n.draggable}),h().createElement(j,{id:i,announcement:o})),document.body):null}const G=Object.freeze({x:0,y:0});function J(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Q({data:{value:e}},{data:{value:t}}){return e-t}function Z({data:{value:e}},{data:{value:t}}){return t-e}function ee({left:e,top:t,height:n,width:r}){return[{x:e,y:t},{x:e+r,y:t},{x:e,y:t+n},{x:e+r,y:t+n}]}function te(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function ne(e,t=e.left,n=e.top){return{x:t+.5*e.width,y:n+.5*e.height}}const re=({collisionRect:e,droppableContainers:t})=>{const n=ne(e,e.left,e.top),r=[];for(const e of t){const{id:t,rect:{current:o}}=e;if(o){const i=J(ne(o),n);r.push({id:t,data:{droppableContainer:e,value:i}})}}return r.sort(Q)};function oe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=s*a;return Number((o/(n+r-o)).toFixed(4))}return 0}const ie=({collisionRect:e,droppableContainers:t})=>{const n=[];for(const r of t){const{id:t,rect:{current:o}}=r;if(o){const i=oe(o,e);i>0&&n.push({id:t,data:{droppableContainer:r,value:i}})}}return n.sort(Z)};function se(e){return function(t,...n){return n.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const ae=se(1),le={ignoreTransform:!1};function ce(e,t=le){let n=e.getBoundingClientRect();if(t.ignoreTransform){const{getComputedStyle:t}=m(e),{transform:r,transformOrigin:o}=t(e);r&&(n=function(e,t,n){let r,o,i,s,a;if(t.startsWith("matrix3d("))r=t.slice(9,-1).split(/, /),o=+r[0],i=+r[5],s=+r[12],a=+r[13];else{if(!t.startsWith("matrix("))return e;r=t.slice(7,-1).split(/, /),o=+r[0],i=+r[3],s=+r[4],a=+r[5]}const l=e.left-s-(1-o)*parseFloat(n),c=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,r,o))}const{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function ue(e){return ce(e,{ignoreTransform:!0})}function de(e){const t=[];return e?function n(r){if(!r)return t;if(b(r)&&null!=r.scrollingElement&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!w(r)||function(e){return e instanceof m(e).SVGElement}(r))return t;if(t.includes(r))return t;const{getComputedStyle:o}=m(r),i=o(r);return r!==e&&function(e,t=m(e).getComputedStyle(e)){const n=/(auto|scroll|overlay)/;return null!=["overflow","overflowX","overflowY"].find((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(r,i)&&t.push(r),function(e,t=m(e).getComputedStyle(e)){return"fixed"===t.position}(r,i)?t:n(r.parentNode)}(e):t}function he(e){return g&&e?v(e)?e:p(e)?b(e)||e===y(e).scrollingElement?window:w(e)?e:null:null:null}function fe(e){return v(e)?e.scrollX:e.scrollLeft}function ge(e){return v(e)?e.scrollY:e.scrollTop}function ve(e){return{x:fe(e),y:ge(e)}}var pe;function me(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(pe||(pe={}));const be={x:.2,y:.2};function we(e,t,{top:n,left:r,right:o,bottom:i},s=10,a=be){const{clientHeight:l,clientWidth:c}=e,u=(d=e,g&&d&&d===document.scrollingElement?{top:0,left:0,right:c,bottom:l,width:c,height:l}:t);var d;const{isTop:h,isBottom:f,isLeft:v,isRight:p}=me(e),m={x:0,y:0},b={x:0,y:0},w=u.height*a.y,y=u.width*a.x;return!h&&n<=u.top+w?(m.y=pe.Backward,b.y=s*Math.abs((u.top+w-n)/w)):!f&&i>=u.bottom-w&&(m.y=pe.Forward,b.y=s*Math.abs((u.bottom-w-i)/w)),!p&&o>=u.right-y?(m.x=pe.Forward,b.x=s*Math.abs((u.right-y-o)/y)):!v&&r<=u.left+y&&(m.x=pe.Backward,b.x=s*Math.abs((u.left+y-r)/y)),{direction:m,speed:b}}function ye(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function xe(e){return e.reduce(((e,t)=>I(e,ve(t))),G)}const De=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+fe(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+ge(t)),0)}]];class Ee{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=de(t),r=xe(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of De)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),s=r[e]-t;return this.rect[i]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}var Re,Ce,Se,Me;!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Re||(Re={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Ce||(Ce={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Se||(Se={})),function(e){e.Optimized="optimized"}(Me||(Me={}));const Ie=new Map,Ne={measure:ue,strategy:Se.WhileDragging,frequency:Me.Optimized};function Oe({onResize:e,disabled:t}){return(0,d.useMemo)((()=>{if(t||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:n}=window;return new n(e)}),[t,e])}const Te=[],ke=Be(ue),Ae=je(ue);function Le(e,t,n){const r=(0,d.useRef)(e);return E((o=>e?n||!o&&e||e!==r.current?w(e)&&null==e.parentNode?null:new Ee(t(e),e):null!=o?o:null:null),[e,n,t])}function Be(e){return(t,n)=>Le(t,e,n)}function je(e){const t=[];return function(n,r){const o=(0,d.useRef)(n);return E((i=>n.length?r||!i&&n.length||n!==o.current?n.map((t=>new Ee(e(t),t))):null!=i?i:t:t),[n,r])}}function ze(e,t){return(0,d.useMemo)((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}class Pe{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function $e(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var _e,Fe;function qe(e){e.preventDefault()}function Ke(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(_e||(_e={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(Fe||(Fe={}));const Ue={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter]},Xe=(e,{currentCoordinates:t})=>{switch(e.code){case Fe.Right:return{...t,x:t.x+25};case Fe.Left:return{...t,x:t.x-25};case Fe.Down:return{...t,y:t.y+25};case Fe.Up:return{...t,y:t.y-25}}};class Ye{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.coordinates=G,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Pe(y(t)),this.windowListeners=new Pe(m(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(_e.Resize,this.handleCancel),this.windowListeners.add(_e.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(_e.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const n=ue(e.node.current),r={x:n.left,y:n.top};this.coordinates=r,t(r)}handleKeyDown(e){if(O(e)){const{coordinates:t}=this,{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Ue,coordinateGetter:s=Xe,scrollBehavior:a="smooth"}=o,{code:l}=e;if(i.end.includes(l))return void this.handleEnd(e);if(i.cancel.includes(l))return void this.handleCancel(e);const c=s(e,{active:n,context:r.current,currentCoordinates:t});if(c){const n={x:0,y:0},{scrollableAncestors:o}=r.current;for(const r of o){const o=e.code,i=N(c,t),{isTop:s,isRight:l,isLeft:u,isBottom:d,maxScroll:h,minScroll:f}=me(r),g=ye(r),v={x:Math.min(o===Fe.Right?g.right-g.width/2:g.right,Math.max(o===Fe.Right?g.left:g.left+g.width/2,c.x)),y:Math.min(o===Fe.Down?g.bottom-g.height/2:g.bottom,Math.max(o===Fe.Down?g.top:g.top+g.height/2,c.y))},p=o===Fe.Right&&!l||o===Fe.Left&&!u,m=o===Fe.Down&&!d||o===Fe.Up&&!s;if(p&&v.x!==c.x){if(o===Fe.Right&&r.scrollLeft+i.x<=h.x||o===Fe.Left&&r.scrollLeft+i.x>=f.x)return void r.scrollBy({left:i.x,behavior:a});n.x=o===Fe.Right?r.scrollLeft-h.x:r.scrollLeft-f.x,r.scrollBy({left:-n.x,behavior:a});break}if(m&&v.y!==c.y){if(o===Fe.Down&&r.scrollTop+i.y<=h.y||o===Fe.Up&&r.scrollTop+i.y>=f.y)return void r.scrollBy({top:i.y,behavior:a});n.y=o===Fe.Down?r.scrollTop-h.y:r.scrollTop-f.y,r.scrollBy({top:-n.y,behavior:a});break}}this.handleMove(e,I(c,n))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function We(e){return Boolean(e&&"distance"in e)}function Ve(e){return Boolean(e&&"delay"in e)}Ye.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=Ue,onActivation:n})=>{const{code:r}=e.nativeEvent;return!!t.start.includes(r)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}}];class He{constructor(e,t,n=function(e){const{EventTarget:t}=m(e);return e instanceof t?e:y(e)}(e.event.target)){var r;this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=y(i),this.documentListeners=new Pe(this.document),this.listeners=new Pe(n),this.windowListeners=new Pe(m(i)),this.initialCoordinates=null!=(r=T(o))?r:G,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(_e.Resize,this.handleCancel),this.windowListeners.add(_e.DragStart,qe),this.windowListeners.add(_e.VisibilityChange,this.handleCancel),this.windowListeners.add(_e.ContextMenu,qe),this.documentListeners.add(_e.Keydown,this.handleKeydown),t){if(We(t))return;if(Ve(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(_e.Click,Ke,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(_e.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:s}}=o;if(!r)return;const a=null!=(t=T(e))?t:G,l=N(r,a);if(!n&&s){if(Ve(s))return $e(l,s.tolerance)?this.handleCancel():void 0;if(We(s))return null!=s.tolerance&&$e(l,s.tolerance)?this.handleCancel():$e(l,s.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),i(a)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Ge={move:{name:"pointermove"},end:{name:"pointerup"}};class Je extends He{constructor(e){const{event:t}=e,n=y(t.target);super(e,Ge,n)}}Je.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!(!e.isPrimary||0!==e.button||(null==t||t({event:e}),0))}];const Qe={move:{name:"mousemove"},end:{name:"mouseup"}};var Ze;!function(e){e[e.RightClick=2]="RightClick"}(Ze||(Ze={})),class extends He{constructor(e){super(e,Qe,y(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button!==Ze.RightClick&&(null==t||t({event:e}),!0)}];const et={move:{name:"touchmove"},end:{name:"touchend"}};(class extends He{constructor(e){super(e,et)}static setup(){return window.addEventListener(et.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(et.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return!(n.length>1||(null==t||t({event:e}),0))}}];const tt=[{sensor:Je,options:{}},{sensor:Ye,options:{}}],nt={current:{}},rt=(0,d.createContext)({...G,scaleX:1,scaleY:1}),ot=(0,d.memo)((function({id:e,autoScroll:t=!0,announcements:n,children:r,sensors:o=tt,collisionDetection:i=ie,measuring:s,modifiers:a,screenReaderInstructions:l=z,...c}){var u,v,p,m,b,y,C;const M=(0,d.useReducer)(W,void 0,Y),[N,O]=M,[k,A]=(0,d.useState)((()=>({type:null,event:null}))),[L,B]=(0,d.useState)(!1),{draggable:{active:j,nodes:P,translate:_},droppable:{containers:F}}=N,q=j?P[j]:null,K=(0,d.useRef)({initial:null,translated:null}),J=(0,d.useMemo)((()=>{var e;return null!=j?{id:j,data:null!=(e=null==q?void 0:q.data)?e:nt,rect:K}:null}),[j,q]),Q=(0,d.useRef)(null),[Z,ee]=(0,d.useState)(null),[ne,re]=(0,d.useState)(null),oe=D(c,Object.values(c)),se=S("DndDescribedBy",e),le=(0,d.useMemo)((()=>F.getEnabled()),[F]),{droppableRects:fe,measureDroppableContainers:ge,measuringScheduled:pe}=function(e,{dragging:t,dependencies:n,config:r}){const[o,i]=(0,d.useState)(null),s=null!=o,{frequency:a,measure:l,strategy:c}={...Ne,...r},u=(0,d.useRef)(e),h=(0,d.useCallback)(((e=[])=>i((t=>t?t.concat(e):e))),[]),f=(0,d.useRef)(null),g=function(){switch(c){case Se.Always:return!1;case Se.BeforeDragging:return t;default:return!t}}(),v=E((n=>{if(g&&!t)return Ie;const r=o;if(!n||n===Ie||u.current!==e||null!=r){const t=new Map;for(let n of e){if(!n)continue;if(r&&r.length>0&&!r.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,o=e?new Ee(l(e),e):null;n.rect.current=o,o&&t.set(n.id,o)}return t}return n}),[e,o,t,g,l]);return(0,d.useEffect)((()=>{u.current=e}),[e]),(0,d.useEffect)((()=>{g||requestAnimationFrame((()=>h()))}),[t,g]),(0,d.useEffect)((()=>{s&&i(null)}),[s]),(0,d.useEffect)((()=>{g||"number"!=typeof a||null!==f.current||(f.current=setTimeout((()=>{h(),f.current=null}),a))}),[a,g,h,...n]),{droppableRects:v,measureDroppableContainers:h,measuringScheduled:s}}(le,{dragging:L,dependencies:[_.x,_.y],config:null==s?void 0:s.droppable}),me=function(e,t){const n=null!==t?e[t]:void 0,r=n?n.node.current:null;return E((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(P,j),be=ne?T(ne):null,ye=Le(me,null!=(u=null==s||null==(v=s.draggable)?void 0:v.measure)?u:ue),De=ke(me?me.parentElement:null),Me=(0,d.useRef)({active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Be=F.getNodeFor(null==(p=Me.current.over)?void 0:p.id),je=function({measure:e=ce}){const[t,n]=(0,d.useState)(null),r=(0,d.useCallback)((t=>{for(const{target:r}of t)if(w(r)){n((t=>{const n=e(r);return t?{...t,width:n.width,height:n.height}:n}));break}}),[e]),o=Oe({onResize:r}),i=(0,d.useCallback)((t=>{const r=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return w(t)?t:e}(t);null==o||o.disconnect(),r&&(null==o||o.observe(r)),n(r?e(r):null)}),[e,o]),[s,a]=R(i);return(0,d.useMemo)((()=>({nodeRef:s,rect:t,setRef:a})),[t,s,a])}({measure:null==s||null==(m=s.dragOverlay)?void 0:m.measure}),ze=null!=(b=je.nodeRef.current)?b:me,Pe=null!=(y=je.rect)?y:ye,$e=(0,d.useRef)(null),_e=$e.current,Fe=Pe===ye?(Ke=_e,(qe=ye)&&Ke?{x:qe.left-Ke.left,y:qe.top-Ke.top}:G):G;var qe,Ke;const Ue=(Xe=ze?ze.ownerDocument.defaultView:null,(0,d.useMemo)((()=>Xe?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(Xe):null),[Xe]));var Xe;const Ye=function(e){const t=(0,d.useRef)(e),n=E((n=>e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:de(e):Te),[e]);return(0,d.useEffect)((()=>{t.current=e}),[e]),n}(j?null!=Be?Be:ze:null),We=Ae(Ye),Ve=function(e,{transform:t,...n}){return(null==e?void 0:e.length)?e.reduce(((e,t)=>t({transform:e,...n})),t):t}(a,{transform:{x:_.x-Fe.x,y:_.y-Fe.y,scaleX:1,scaleY:1},activatorEvent:ne,active:J,activeNodeRect:ye,containerNodeRect:De,draggingNodeRect:Pe,over:Me.current.over,overlayNodeRect:je.rect,scrollableAncestors:Ye,scrollableAncestorRects:We,windowRect:Ue}),He=be?I(be,_):null,Ge=function(e){const[t,n]=(0,d.useState)(null),r=(0,d.useRef)(e),o=(0,d.useCallback)((e=>{const t=he(e.target);t&&n((e=>e?(e.set(t,ve(t)),new Map(e)):null))}),[]);return(0,d.useEffect)((()=>{const t=r.current;if(e!==t){i(t);const s=e.map((e=>{const t=he(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,ve(t)]):null})).filter((e=>null!=e));n(s.length?new Map(s):null),r.current=e}return()=>{i(e),i(t)};function i(e){e.forEach((e=>{const t=he(e);null==t||t.removeEventListener("scroll",o)}))}}),[o,e]),(0,d.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>I(e,t)),G):xe(e):G),[e,t])}(Ye),Je=I(Ve,Ge),Qe=Pe?ae(Pe,Ve):null,Ze=J&&Qe?i({active:J,collisionRect:Qe,droppableContainers:le,pointerCoordinates:He}):null,et=te(Ze,"id"),[ot,it]=(0,d.useState)(null),st=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Ve,null!=(C=null==ot?void 0:ot.rect)?C:null,ye),at=(0,d.useCallback)(((e,{sensor:t,options:n})=>{if(!Q.current)return;const r=P[Q.current];if(!r)return;const o=new t({active:Q.current,activeNode:r,event:e.nativeEvent,options:n,context:Me,onStart(e){const t=Q.current;if(!t)return;const n=P[t];if(!n)return;const{onDragStart:r}=oe.current,o={active:{id:t,data:n.data,rect:K}};(0,f.unstable_batchedUpdates)((()=>{O({type:$.DragStart,initialCoordinates:e,active:t}),A({type:$.DragStart,event:o})})),null==r||r(o)},onMove(e){O({type:$.DragMove,coordinates:e})},onEnd:i($.DragEnd),onCancel:i($.DragCancel)});function i(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=Me.current;let i=null;if(t&&o){const{cancelDrop:s}=oe.current;i={active:t,collisions:n,delta:o,over:r},e===$.DragEnd&&"function"==typeof s&&await Promise.resolve(s(i))&&(e=$.DragCancel)}Q.current=null,(0,f.unstable_batchedUpdates)((()=>{if(O({type:e}),it(null),B(!1),ee(null),re(null),i&&A({type:e,event:i}),i){const{onDragCancel:t,onDragEnd:n}=oe.current,r=e===$.DragEnd?n:t;null==r||r(i)}}))}}(0,f.unstable_batchedUpdates)((()=>{ee(o),re(e.nativeEvent)}))}),[P]),lt=(0,d.useCallback)(((e,t)=>(n,r)=>{const o=n.nativeEvent;null!==Q.current||o.dndKit||o.defaultPrevented||!0===e(n,t.options)&&(o.dndKit={capturedBy:t.sensor},Q.current=r,at(n,t))}),[at]),ct=function(e,t){return(0,d.useMemo)((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(o,lt);!function(e){(0,d.useEffect)((()=>{if(!g)return;const t=e.map((({sensor:e})=>null==e.setup?void 0:e.setup()));return()=>{for(const e of t)null==e||e()}}),e.map((({sensor:e})=>e)))}(o),(0,d.useEffect)((()=>{null!=j&&B(!0)}),[j]),(0,d.useEffect)((()=>{J||($e.current=null),J&&ye&&!$e.current&&($e.current=ye)}),[ye,J]),(0,d.useEffect)((()=>{const{onDragMove:e}=oe.current,{active:t,collisions:n,over:r}=Me.current;if(!t)return;const o={active:t,collisions:n,delta:{x:Je.x,y:Je.y},over:r};A({type:$.DragMove,event:o}),null==e||e(o)}),[Je.x,Je.y]),(0,d.useEffect)((()=>{const{active:e,collisions:t,droppableContainers:n,scrollAdjustedTranslate:r}=Me.current;if(!e||!Q.current||!r)return;const{onDragOver:o}=oe.current,i=n.get(et),s=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,a={active:e,collisions:t,delta:{x:r.x,y:r.y},over:s};(0,f.unstable_batchedUpdates)((()=>{it(s),A({type:$.DragOver,event:a}),null==o||o(a)}))}),[et]),x((()=>{Me.current={active:J,activeNode:me,collisionRect:Qe,collisions:Ze,droppableRects:fe,draggableNodes:P,draggingNode:ze,draggingNodeRect:Pe,droppableContainers:F,over:ot,scrollableAncestors:Ye,scrollAdjustedTranslate:Je},K.current={initial:Pe,translated:Qe}}),[J,me,Ze,Qe,P,ze,Pe,fe,F,ot,Ye,Je]),function({acceleration:e,activator:t=Re.Pointer,canScroll:n,draggingRect:r,enabled:o,interval:i=5,order:s=Ce.TreeOrder,pointerCoordinates:a,scrollableAncestors:l,scrollableAncestorRects:c,threshold:u}){const[h,f]=function(){const e=(0,d.useRef)(null);return[(0,d.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,d.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),g=(0,d.useRef)({x:1,y:1}),v=(0,d.useMemo)((()=>{switch(t){case Re.Pointer:return a?{top:a.y,bottom:a.y,left:a.x,right:a.x}:null;case Re.DraggableRect:return r}return null}),[t,r,a]),p=(0,d.useRef)(G),m=(0,d.useRef)(null),b=(0,d.useCallback)((()=>{const e=m.current;if(!e)return;const t=g.current.x*p.current.x,n=g.current.y*p.current.y;e.scrollBy(t,n)}),[]),w=(0,d.useMemo)((()=>s===Ce.TreeOrder?[...l].reverse():l),[s,l]);(0,d.useEffect)((()=>{if(o&&l.length&&v){for(const t of w){if(!1===(null==n?void 0:n(t)))continue;const r=l.indexOf(t),o=c[r];if(!o)continue;const{direction:s,speed:a}=we(t,o,v,e,u);if(a.x>0||a.y>0)return f(),m.current=t,h(b,i),g.current=a,void(p.current=s)}g.current={x:0,y:0},p.current={x:0,y:0},f()}else f()}),[e,b,n,f,o,i,JSON.stringify(v),h,l,w,c,JSON.stringify(u)])}({...function(){const e=!1===(null==Z?void 0:Z.autoScrollEnabled),n="object"==typeof t?!1===t.enabled:!1===t,r=!e&&!n;return"object"==typeof t?{...t,enabled:r}:{enabled:r}}(),draggingRect:Qe,pointerCoordinates:He,scrollableAncestors:Ye,scrollableAncestorRects:We});const ut=(0,d.useMemo)((()=>({active:J,activeNode:me,activeNodeRect:ye,activatorEvent:ne,collisions:Ze,containerNodeRect:De,dragOverlay:je,draggableNodes:P,droppableContainers:F,droppableRects:fe,over:ot,measureDroppableContainers:ge,scrollableAncestors:Ye,scrollableAncestorRects:We,measuringScheduled:pe,windowRect:Ue})),[J,me,ye,ne,Ze,De,je,P,F,fe,ot,ge,Ye,We,pe,Ue]),dt=(0,d.useMemo)((()=>({activatorEvent:ne,activators:ct,active:J,activeNodeRect:ye,ariaDescribedById:{draggable:se},dispatch:O,draggableNodes:P,over:ot,measureDroppableContainers:ge})),[ne,ct,J,ye,O,se,P,ot,ge]);return h().createElement(V.Provider,{value:k},h().createElement(U.Provider,{value:dt},h().createElement(X.Provider,{value:ut},h().createElement(rt.Provider,{value:st},r))),h().createElement(H,{announcements:n,hiddenTextDescribedById:se,screenReaderInstructions:l}))})),it=(0,d.createContext)(null),st="button";const at={timeout:25};function lt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ct(e){return null!==e&&e>=0}const ut=({rects:e,activeIndex:t,overIndex:n,index:r})=>{const o=lt(e,n,t),i=e[r],s=o[r];return s&&i?{x:s.left-i.left,y:s.top-i.top,scaleX:s.width/i.width,scaleY:s.height/i.height}:null},dt={scaleX:1,scaleY:1},ht=({activeIndex:e,activeNodeRect:t,index:n,rects:r,overIndex:o})=>{var i;const s=null!=(i=r[e])?i:t;if(!s)return null;if(n===e){const t=r[o];return t?{x:0,y:e<o?t.top+t.height-(s.top+s.height):t.top-s.top,...dt}:null}const a=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}(r,n,e);return n>e&&n<=o?{x:0,y:-s.height-a,...dt}:n<e&&n>=o?{x:0,y:s.height+a,...dt}:{x:0,y:0,...dt}},ft="Sortable",gt=h().createContext({activeIndex:-1,containerId:ft,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ut});function vt({children:e,id:t,items:n,strategy:r=ut}){const{active:o,dragOverlay:i,droppableRects:s,over:a,measureDroppableContainers:l,measuringScheduled:c}=(0,d.useContext)(X),u=S(ft,t),f=Boolean(null!==i.rect),g=(0,d.useMemo)((()=>n.map((e=>"string"==typeof e?e:e.id))),[n]),v=null!=o,p=o?g.indexOf(o.id):-1,m=a?g.indexOf(a.id):-1,b=(0,d.useRef)(g),w=function(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}(g,s),y=(D=g,E=b.current,!(D.join()===E.join()));var D,E;const R=-1!==m&&-1===p||y;x((()=>{y&&v&&!c&&l(g)}),[y,g,v,l,c]),(0,d.useEffect)((()=>{b.current=g}),[g]);const C=(0,d.useMemo)((()=>({activeIndex:p,containerId:u,disableTransforms:R,items:g,overIndex:m,useDragOverlay:f,sortedRects:w,strategy:r})),[p,u,R,g,m,w,f,r]);return h().createElement(gt.Provider,{value:C},e)}const pt=({id:e,items:t,activeIndex:n,overIndex:r})=>lt(t,n,r).indexOf(e),mt=({containerId:e,isSorting:t,wasDragging:n,index:r,items:o,newIndex:i,previousItems:s,previousContainerId:a,transition:l})=>!(!l||!n||s!==o&&r===i||!t&&(i===r||e!==a)),bt={duration:200,easing:"ease"},wt="transform",yt=k.Transition.toString({property:wt,duration:0,easing:"linear"}),xt={roleDescription:"sortable"};function Dt({animateLayoutChanges:e=mt,attributes:t,disabled:n,data:r,getNewIndex:o=pt,id:i,strategy:s,resizeObserverConfig:a,transition:l=bt}){const{items:c,containerId:u,activeIndex:h,disableTransforms:f,sortedRects:g,overIndex:v,useDragOverlay:p,strategy:m}=(0,d.useContext)(gt),b=c.indexOf(i),w=(0,d.useMemo)((()=>({sortable:{containerId:u,index:b,items:c},...r})),[u,r,b,c]),y=(0,d.useMemo)((()=>c.slice(c.indexOf(i))),[c,i]),{rect:E,node:C,isOver:M,setNodeRef:I}=function({data:e,disabled:t=!1,id:n,resizeObserverConfig:r}){const o=S("Droppable"),{active:i,dispatch:s,over:a,measureDroppableContainers:l}=(0,d.useContext)(U),c=(0,d.useRef)(!1),u=(0,d.useRef)(null),h=(0,d.useRef)(null),{disabled:f,updateMeasurementsFor:g,timeout:v}={...at,...r},p=D(null!=g?g:n),m=Oe({onResize:(0,d.useCallback)((()=>{c.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout((()=>{l("string"==typeof p.current?[p.current]:p.current),h.current=null}),v)):c.current=!0}),[v]),disabled:f||!i}),b=(0,d.useCallback)(((e,t)=>{m&&(t&&(m.unobserve(t),c.current=!1),e&&m.observe(e))}),[m]),[w,y]=R(b),E=D(e);return(0,d.useEffect)((()=>{m&&w.current&&(m.disconnect(),c.current=!1,m.observe(w.current))}),[w,m]),x((()=>(s({type:$.RegisterDroppable,element:{id:n,key:o,disabled:t,node:w,rect:u,data:E}}),()=>s({type:$.UnregisterDroppable,key:o,id:n}))),[n]),(0,d.useEffect)((()=>{s({type:$.SetDroppableDisabled,id:n,key:o,disabled:t})}),[t]),{active:i,rect:u,isOver:(null==a?void 0:a.id)===n,node:w,over:a,setNodeRef:y}}({id:i,data:w,resizeObserverConfig:{updateMeasurementsFor:y,...a}}),{active:N,activatorEvent:T,activeNodeRect:A,attributes:L,setNodeRef:B,listeners:j,isDragging:z,over:P,transform:_}=function({id:e,data:t,disabled:n=!1,attributes:r}){const o=S("Droppable"),{activators:i,activatorEvent:s,active:a,activeNodeRect:l,ariaDescribedById:c,draggableNodes:u,over:h}=(0,d.useContext)(U),{role:f=st,roleDescription:g="draggable",tabIndex:v=0}=null!=r?r:{},p=(null==a?void 0:a.id)===e,m=(0,d.useContext)(p?rt:it),[b,w]=R(),y=function(e,t){return(0,d.useMemo)((()=>e.reduce(((e,{eventName:n,handler:r})=>(e[n]=e=>{r(e,t)},e)),{})),[e,t])}(i,e),E=D(t);return x((()=>(u[e]={id:e,key:o,node:b,data:E},()=>{const t=u[e];t&&t.key===o&&delete u[e]})),[u,e]),{active:a,activatorEvent:s,activeNodeRect:l,attributes:(0,d.useMemo)((()=>({role:f,tabIndex:v,"aria-pressed":!(!p||f!==st)||void 0,"aria-roledescription":g,"aria-describedby":c.draggable})),[f,v,p,g,c.draggable]),isDragging:p,listeners:n?void 0:y,node:b,over:h,setNodeRef:w,transform:m}}({id:i,data:w,attributes:{...xt,...t},disabled:n}),F=function(...e){return(0,d.useMemo)((()=>t=>{e.forEach((e=>e(t)))}),e)}(I,B),q=Boolean(N),K=q&&!f&&ct(h)&&ct(v),X=!p&&z,Y=X&&K?_:null,W=K?null!=Y?Y:(null!=s?s:m)({rects:g,activeNodeRect:A,activeIndex:h,overIndex:v,index:b}):null,V=ct(h)&&ct(v)?o({id:i,items:c,activeIndex:h,overIndex:v}):b,H=null==N?void 0:N.id,G=(0,d.useRef)({activeId:H,items:c,newIndex:V,containerId:u}),J=c!==G.current.items,Q=e({active:N,containerId:u,isDragging:z,isSorting:q,id:i,index:b,items:c,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:l,wasDragging:null!=G.current.activeId}),Z=function({disabled:e,index:t,node:n,rect:r}){const[o,i]=(0,d.useState)(null),s=(0,d.useRef)(t);return x((()=>{if(!e&&t!==s.current&&n.current){const e=r.current;if(e){const t=ce(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&i(r)}}t!==s.current&&(s.current=t)}),[e,t,n,r]),(0,d.useEffect)((()=>{o&&requestAnimationFrame((()=>{i(null)}))}),[o]),o}({disabled:!Q,index:b,node:C,rect:E});return(0,d.useEffect)((()=>{q&&G.current.newIndex!==V&&(G.current.newIndex=V),u!==G.current.containerId&&(G.current.containerId=u),c!==G.current.items&&(G.current.items=c),H!==G.current.activeId&&(G.current.activeId=H)}),[H,q,V,u,c]),{active:N,activeIndex:h,attributes:L,rect:E,index:b,newIndex:V,items:c,isOver:M,isSorting:q,isDragging:z,listeners:j,node:C,overIndex:v,over:P,setNodeRef:F,setDroppableNodeRef:I,setDraggableNodeRef:B,transform:null!=Z?Z:W,transition:Z||J&&G.current.newIndex===b?yt:X&&!O(T)||!l?void 0:q||Q?k.Transition.toString({...l,property:wt}):void 0}}const Et=[Fe.Down,Fe.Right,Fe.Up,Fe.Left],Rt=(e,{context:{active:t,droppableContainers:n,collisionRect:r,scrollableAncestors:o}})=>{if(Et.includes(e.code)){if(e.preventDefault(),!t||!r)return;const i=[];n.getEnabled().forEach((t=>{if(!t||(null==t?void 0:t.disabled))return;const n=null==t?void 0:t.rect.current;if(n)switch(e.code){case Fe.Down:r.top+r.height<=n.top&&i.push(t);break;case Fe.Up:r.top>=n.top+n.height&&i.push(t);break;case Fe.Left:r.left>=n.left+n.width&&i.push(t);break;case Fe.Right:r.left+r.width<=n.left&&i.push(t)}}));const s=(({collisionRect:e,droppableContainers:t})=>{const n=ee(e),r=[];for(const e of t){const{id:t,rect:{current:o}}=e;if(o){const i=ee(o),s=n.reduce(((e,t,n)=>e+J(i[n],t)),0),a=Number((s/4).toFixed(4));r.push({id:t,data:{droppableContainer:e,value:a}})}}return r.sort(Q)})({active:t,collisionRect:r,droppableContainers:i,pointerCoordinates:null}),a=te(s,"id");if(null!=a){const e=n.get(a),t=null==e?void 0:e.node.current,i=null==e?void 0:e.rect.current;if(t&&i){const e=de(t).some(((e,t)=>o[t]!==e))?{x:0,y:0}:{x:r.width-i.width,y:r.height-i.height};return{x:i.left-e.x,y:i.top-e.y}}}}};function Ct(t){let{Component:n,...r}=t;const{attributes:i,listeners:s,setNodeRef:a,transform:l,transition:c,isDragging:u}=Dt({id:r.id}),d={style:{transform:k.Translate.toString(l),transition:c},isDragging:u,...i,...s};return(0,e.createElement)(n,o({ref:a},r,d))}const St=t=>{let{items:n}=t;const[r,i]=(0,e.useState)((()=>n.map((e=>e.id)))),s=function(...e){return(0,d.useMemo)((()=>[...e].filter((e=>null!=e))),[...e])}(ze(Je),ze(Ye,{coordinateGetter:Rt}));return(0,e.createElement)(ot,{sensors:s,collisionDetection:re,onDragEnd:function(e){const{active:t,over:n}=e;t.id!==n.id&&i((e=>{const r=e.indexOf(t.id),o=e.indexOf(n.id);return lt(e,r,o)}))}},(0,e.createElement)(vt,{items:r,strategy:ht},r.map((t=>(0,e.createElement)(Ct,o({key:t,id:t},(e=>n.find((t=>t.id===e)))(t)))))))};function Mt(t){let{id:n,answers:r=[]}=t;const o=r.map((e=>({Component:u,...e,questionId:n})));return(0,e.createElement)("ol",{className:"sensei-ordering-answers"},(0,e.createElement)(St,{items:o}))}r()((()=>{const t=window.sensei_ordering_questions;Object.keys(t).forEach((n=>{const r=document.getElementById(`sensei-ordering-question-${n}`);t[n].question.answers.length>0&&(0,e.render)((0,e.createElement)(Mt,t[n].question),r)}))}))}()}();