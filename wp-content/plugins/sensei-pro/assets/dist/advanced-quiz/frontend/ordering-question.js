(()=>{var e={4184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=o.apply(null,n);s&&e.push(s)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.element;function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}var r=n(4184),o=n.n(r);const i=function({icon:t,size:n=24,...r}){return(0,e.cloneElement)(t,{width:n,height:n,...r})},s=window.wp.primitives,a=(0,e.createElement)(s.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},(0,e.createElement)(s.Path,{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"})),l=(0,e.forwardRef)((function(n,r){let{id:s,label:l,questionId:c,isDragging:u,correct:d,...h}=n;const g=void 0!==d,f=o()({"sensei-ordering-answer":!0,"sensei-ordering-answer--draggable":!0,"sensei-ordering-answer--dragging":u,"sensei-ordering-answer--correct":d,"sensei-ordering-answer--wrong":!1===d});return(0,e.createElement)("li",t({ref:r,id:s,className:f},h),(0,e.createElement)("input",{id:`question_${c}_answer-${s}`,type:"hidden",name:`sensei_question[${c}][]`,value:s}),(0,e.createElement)("label",{className:"sensei-ordering-answer__label",htmlFor:`question_${c}_answer-${s}`},!g&&(0,e.createElement)("div",{className:"sensei-ordering-answer__icon"},(0,e.createElement)(i,{icon:a,size:18})),(0,e.createElement)("div",{className:"sensei-ordering-answer__content"},l),g&&(0,e.createElement)("span",{className:"sensei-ordering-answer__result-icon"})))})),c=window.React;var u=n.n(c);const d=window.ReactDOM,h="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function g(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function f(e){return"nodeType"in e}function v(e){var t,n;return e?g(e)?e:f(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function p(e){const{Document:t}=v(e);return e instanceof t}function m(e){return!g(e)&&e instanceof v(e).HTMLElement}function b(e){return e?g(e)?e.document:f(e)?p(e)?e:m(e)?e.ownerDocument:document:document:document}const w=h?c.useLayoutEffect:c.useEffect;function y(e,t=[e]){const n=(0,c.useRef)(e);return w((()=>{n.current!==e&&(n.current=e)}),t),n}function x(e,t){const n=(0,c.useRef)();return(0,c.useMemo)((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function D(e){const t=y(e),n=(0,c.useRef)(null),r=(0,c.useCallback)((e=>{e!==n.current&&(null==t.current||t.current(e,n.current)),n.current=e}),[]);return[n,r]}let E={};function R(e,t){return(0,c.useMemo)((()=>{if(t)return t;const n=null==E[e]?0:E[e]+1;return E[e]=n,`${e}-${n}`}),[e,t])}function C(e){return(t,...n)=>n.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}const S=C(1),M=C(-1);function I(e){if(!e)return!1;const{KeyboardEvent:t}=v(e.target);return t&&e instanceof t}function N(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=v(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const O=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return`translate3d(${t?Math.round(t):0}px, ${n?Math.round(n):0}px, 0)`}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return`scaleX(${t}) scaleY(${n})`}},Transform:{toString(e){if(e)return[O.Translate.toString(e),O.Scale.toString(e)].join(" ")}},Transition:{toString:({property:e,duration:t,easing:n})=>`${e} ${t}ms ${n}`}}),T={display:"none"};function k(e){let{id:t,value:n}=e;return u().createElement("div",{id:t,style:T},n)}const A={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function L(e){let{id:t,announcement:n}=e;return u().createElement("div",{id:t,style:A,role:"status","aria-live":"assertive","aria-atomic":!0},n)}const B={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},j={onDragStart:e=>`Picked up draggable item ${e}.`,onDragOver:(e,t)=>t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`,onDragEnd:(e,t)=>t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`,onDragCancel:e=>`Dragging was cancelled. Draggable item ${e} was dropped.`};var z;function P(...e){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(z||(z={}));class $ extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((({disabled:e})=>!e))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const _={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:{},droppableRects:new Map,droppableContainers:new $,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:P},scrollableAncestors:[],scrollableAncestorRects:[],measureDroppableContainers:P,windowRect:null,measuringScheduled:!1},F={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:P,draggableNodes:{},over:null,measureDroppableContainers:P},q=(0,c.createContext)(F),K=(0,c.createContext)(_);function U(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new $}}}function X(e,t){switch(t.type){case z.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case z.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case z.DragEnd:case z.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case z.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new $(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case z.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new $(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case z.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new $(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}const Y=(0,c.createContext)({type:null,event:null});function W({announcements:e=j,hiddenTextDescribedById:t,screenReaderInstructions:n}){const{announce:r,announcement:o}=function(){const[e,t]=(0,c.useState)("");return{announce:(0,c.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),i=R("DndLiveRegion"),[s,a]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{a(!0)}),[]),function({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:r,onDragCancel:o}){const i=(0,c.useContext)(Y),s=(0,c.useRef)(i);(0,c.useEffect)((()=>{if(i!==s.current){const{type:a,event:l}=i;switch(a){case z.DragStart:null==e||e(l);break;case z.DragMove:null==t||t(l);break;case z.DragOver:null==n||n(l);break;case z.DragCancel:null==o||o(l);break;case z.DragEnd:null==r||r(l)}s.current=i}}),[i,e,t,n,r,o])}((0,c.useMemo)((()=>({onDragStart({active:t}){r(e.onDragStart(t.id))},onDragMove({active:t,over:n}){e.onDragMove&&r(e.onDragMove(t.id,null==n?void 0:n.id))},onDragOver({active:t,over:n}){r(e.onDragOver(t.id,null==n?void 0:n.id))},onDragEnd({active:t,over:n}){r(e.onDragEnd(t.id,null==n?void 0:n.id))},onDragCancel({active:t}){r(e.onDragCancel(t.id))}})),[r,e])),s?(0,d.createPortal)(u().createElement(u().Fragment,null,u().createElement(k,{id:t,value:n.draggable}),u().createElement(L,{id:i,announcement:o})),document.body):null}const V=Object.freeze({x:0,y:0});function H(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function G({data:{value:e}},{data:{value:t}}){return e-t}function J({data:{value:e}},{data:{value:t}}){return t-e}function Q({left:e,top:t,height:n,width:r}){return[{x:e,y:t},{x:e+r,y:t},{x:e,y:t+n},{x:e+r,y:t+n}]}function Z(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function ee(e,t=e.left,n=e.top){return{x:t+.5*e.width,y:n+.5*e.height}}const te=({collisionRect:e,droppableContainers:t})=>{const n=ee(e,e.left,e.top),r=[];for(const e of t){const{id:t,rect:{current:o}}=e;if(o){const i=H(ee(o),n);r.push({id:t,data:{droppableContainer:e,value:i}})}}return r.sort(G)};function ne(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=s*a;return Number((o/(n+r-o)).toFixed(4))}return 0}const re=({collisionRect:e,droppableContainers:t})=>{const n=[];for(const r of t){const{id:t,rect:{current:o}}=r;if(o){const i=ne(o,e);i>0&&n.push({id:t,data:{droppableContainer:r,value:i}})}}return n.sort(J)};function oe(e){return function(t,...n){return n.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const ie=oe(1),se={ignoreTransform:!1};function ae(e,t=se){let n=e.getBoundingClientRect();if(t.ignoreTransform){const{getComputedStyle:t}=v(e),{transform:r,transformOrigin:o}=t(e);r&&(n=function(e,t,n){let r,o,i,s,a;if(t.startsWith("matrix3d("))r=t.slice(9,-1).split(/, /),o=+r[0],i=+r[5],s=+r[12],a=+r[13];else{if(!t.startsWith("matrix("))return e;r=t.slice(7,-1).split(/, /),o=+r[0],i=+r[3],s=+r[4],a=+r[5]}const l=e.left-s-(1-o)*parseFloat(n),c=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,r,o))}const{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function le(e){return ae(e,{ignoreTransform:!0})}function ce(e){const t=[];return e?function n(r){if(!r)return t;if(p(r)&&null!=r.scrollingElement&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!m(r)||function(e){return e instanceof v(e).SVGElement}(r))return t;if(t.includes(r))return t;const{getComputedStyle:o}=v(r),i=o(r);return r!==e&&function(e,t=v(e).getComputedStyle(e)){const n=/(auto|scroll|overlay)/;return null!=["overflow","overflowX","overflowY"].find((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(r,i)&&t.push(r),function(e,t=v(e).getComputedStyle(e)){return"fixed"===t.position}(r,i)?t:n(r.parentNode)}(e):t}function ue(e){return h&&e?g(e)?e:f(e)?p(e)||e===b(e).scrollingElement?window:m(e)?e:null:null:null}function de(e){return g(e)?e.scrollX:e.scrollLeft}function he(e){return g(e)?e.scrollY:e.scrollTop}function ge(e){return{x:de(e),y:he(e)}}var fe;function ve(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(fe||(fe={}));const pe={x:.2,y:.2};function me(e,t,{top:n,left:r,right:o,bottom:i},s=10,a=pe){const{clientHeight:l,clientWidth:c}=e,u=(d=e,h&&d&&d===document.scrollingElement?{top:0,left:0,right:c,bottom:l,width:c,height:l}:t);var d;const{isTop:g,isBottom:f,isLeft:v,isRight:p}=ve(e),m={x:0,y:0},b={x:0,y:0},w=u.height*a.y,y=u.width*a.x;return!g&&n<=u.top+w?(m.y=fe.Backward,b.y=s*Math.abs((u.top+w-n)/w)):!f&&i>=u.bottom-w&&(m.y=fe.Forward,b.y=s*Math.abs((u.bottom-w-i)/w)),!p&&o>=u.right-y?(m.x=fe.Forward,b.x=s*Math.abs((u.right-y-o)/y)):!v&&r<=u.left+y&&(m.x=fe.Backward,b.x=s*Math.abs((u.left+y-r)/y)),{direction:m,speed:b}}function be(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function we(e){return e.reduce(((e,t)=>S(e,ge(t))),V)}const ye=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+de(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+he(t)),0)}]];class xe{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=ce(t),r=we(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of ye)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),s=r[e]-t;return this.rect[i]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}var De,Ee,Re,Ce;!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(De||(De={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Ee||(Ee={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Re||(Re={})),function(e){e.Optimized="optimized"}(Ce||(Ce={}));const Se=new Map,Me={measure:le,strategy:Re.WhileDragging,frequency:Ce.Optimized};function Ie({onResize:e,disabled:t}){return(0,c.useMemo)((()=>{if(t||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:n}=window;return new n(e)}),[t,e])}const Ne=[],Oe=Ae(le),Te=Le(le);function ke(e,t,n){const r=(0,c.useRef)(e);return x((o=>e?n||!o&&e||e!==r.current?m(e)&&null==e.parentNode?null:new xe(t(e),e):null!=o?o:null:null),[e,n,t])}function Ae(e){return(t,n)=>ke(t,e,n)}function Le(e){const t=[];return function(n,r){const o=(0,c.useRef)(n);return x((i=>n.length?r||!i&&n.length||n!==o.current?n.map((t=>new xe(e(t),t))):null!=i?i:t:t),[n,r])}}function Be(e,t){return(0,c.useMemo)((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}class je{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function ze(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Pe,$e;function _e(e){e.preventDefault()}function Fe(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Pe||(Pe={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}($e||($e={}));const qe={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter]},Ke=(e,{currentCoordinates:t})=>{switch(e.code){case $e.Right:return{...t,x:t.x+25};case $e.Left:return{...t,x:t.x-25};case $e.Down:return{...t,y:t.y+25};case $e.Up:return{...t,y:t.y-25}}};class Ue{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.coordinates=V,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new je(b(t)),this.windowListeners=new je(v(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pe.Resize,this.handleCancel),this.windowListeners.add(Pe.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Pe.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const n=le(e.node.current),r={x:n.left,y:n.top};this.coordinates=r,t(r)}handleKeyDown(e){if(I(e)){const{coordinates:t}=this,{active:n,context:r,options:o}=this.props,{keyboardCodes:i=qe,coordinateGetter:s=Ke,scrollBehavior:a="smooth"}=o,{code:l}=e;if(i.end.includes(l))return void this.handleEnd(e);if(i.cancel.includes(l))return void this.handleCancel(e);const c=s(e,{active:n,context:r.current,currentCoordinates:t});if(c){const n={x:0,y:0},{scrollableAncestors:o}=r.current;for(const r of o){const o=e.code,i=M(c,t),{isTop:s,isRight:l,isLeft:u,isBottom:d,maxScroll:h,minScroll:g}=ve(r),f=be(r),v={x:Math.min(o===$e.Right?f.right-f.width/2:f.right,Math.max(o===$e.Right?f.left:f.left+f.width/2,c.x)),y:Math.min(o===$e.Down?f.bottom-f.height/2:f.bottom,Math.max(o===$e.Down?f.top:f.top+f.height/2,c.y))},p=o===$e.Right&&!l||o===$e.Left&&!u,m=o===$e.Down&&!d||o===$e.Up&&!s;if(p&&v.x!==c.x){if(o===$e.Right&&r.scrollLeft+i.x<=h.x||o===$e.Left&&r.scrollLeft+i.x>=g.x)return void r.scrollBy({left:i.x,behavior:a});n.x=o===$e.Right?r.scrollLeft-h.x:r.scrollLeft-g.x,r.scrollBy({left:-n.x,behavior:a});break}if(m&&v.y!==c.y){if(o===$e.Down&&r.scrollTop+i.y<=h.y||o===$e.Up&&r.scrollTop+i.y>=g.y)return void r.scrollBy({top:i.y,behavior:a});n.y=o===$e.Down?r.scrollTop-h.y:r.scrollTop-g.y,r.scrollBy({top:-n.y,behavior:a});break}}this.handleMove(e,S(c,n))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Xe(e){return Boolean(e&&"distance"in e)}function Ye(e){return Boolean(e&&"delay"in e)}Ue.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=qe,onActivation:n})=>{const{code:r}=e.nativeEvent;return!!t.start.includes(r)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}}];class We{constructor(e,t,n=function(e){const{EventTarget:t}=v(e);return e instanceof t?e:b(e)}(e.event.target)){var r;this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=b(i),this.documentListeners=new je(this.document),this.listeners=new je(n),this.windowListeners=new je(v(i)),this.initialCoordinates=null!=(r=N(o))?r:V,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Pe.Resize,this.handleCancel),this.windowListeners.add(Pe.DragStart,_e),this.windowListeners.add(Pe.VisibilityChange,this.handleCancel),this.windowListeners.add(Pe.ContextMenu,_e),this.documentListeners.add(Pe.Keydown,this.handleKeydown),t){if(Xe(t))return;if(Ye(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Pe.Click,Fe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pe.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:s}}=o;if(!r)return;const a=null!=(t=N(e))?t:V,l=M(r,a);if(!n&&s){if(Ye(s))return ze(l,s.tolerance)?this.handleCancel():void 0;if(Xe(s))return null!=s.tolerance&&ze(l,s.tolerance)?this.handleCancel():ze(l,s.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),i(a)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Ve={move:{name:"pointermove"},end:{name:"pointerup"}};class He extends We{constructor(e){const{event:t}=e,n=b(t.target);super(e,Ve,n)}}He.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!(!e.isPrimary||0!==e.button||(null==t||t({event:e}),0))}];const Ge={move:{name:"mousemove"},end:{name:"mouseup"}};var Je;!function(e){e[e.RightClick=2]="RightClick"}(Je||(Je={})),class extends We{constructor(e){super(e,Ge,b(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button!==Je.RightClick&&(null==t||t({event:e}),!0)}];const Qe={move:{name:"touchmove"},end:{name:"touchend"}};(class extends We{constructor(e){super(e,Qe)}static setup(){return window.addEventListener(Qe.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Qe.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return!(n.length>1||(null==t||t({event:e}),0))}}];const Ze=[{sensor:He,options:{}},{sensor:Ue,options:{}}],et={current:{}},tt=(0,c.createContext)({...V,scaleX:1,scaleY:1}),nt=(0,c.memo)((function({id:e,autoScroll:t=!0,announcements:n,children:r,sensors:o=Ze,collisionDetection:i=re,measuring:s,modifiers:a,screenReaderInstructions:l=B,...g}){var f,v,p,b,E,C,M;const I=(0,c.useReducer)(X,void 0,U),[O,T]=I,[k,A]=(0,c.useState)((()=>({type:null,event:null}))),[L,j]=(0,c.useState)(!1),{draggable:{active:P,nodes:$,translate:_},droppable:{containers:F}}=O,H=P?$[P]:null,G=(0,c.useRef)({initial:null,translated:null}),J=(0,c.useMemo)((()=>{var e;return null!=P?{id:P,data:null!=(e=null==H?void 0:H.data)?e:et,rect:G}:null}),[P,H]),Q=(0,c.useRef)(null),[ee,te]=(0,c.useState)(null),[ne,oe]=(0,c.useState)(null),se=y(g,Object.values(g)),de=R("DndDescribedBy",e),he=(0,c.useMemo)((()=>F.getEnabled()),[F]),{droppableRects:fe,measureDroppableContainers:ve,measuringScheduled:pe}=function(e,{dragging:t,dependencies:n,config:r}){const[o,i]=(0,c.useState)(null),s=null!=o,{frequency:a,measure:l,strategy:u}={...Me,...r},d=(0,c.useRef)(e),h=(0,c.useCallback)(((e=[])=>i((t=>t?t.concat(e):e))),[]),g=(0,c.useRef)(null),f=function(){switch(u){case Re.Always:return!1;case Re.BeforeDragging:return t;default:return!t}}(),v=x((n=>{if(f&&!t)return Se;const r=o;if(!n||n===Se||d.current!==e||null!=r){const t=new Map;for(let n of e){if(!n)continue;if(r&&r.length>0&&!r.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,o=e?new xe(l(e),e):null;n.rect.current=o,o&&t.set(n.id,o)}return t}return n}),[e,o,t,f,l]);return(0,c.useEffect)((()=>{d.current=e}),[e]),(0,c.useEffect)((()=>{f||requestAnimationFrame((()=>h()))}),[t,f]),(0,c.useEffect)((()=>{s&&i(null)}),[s]),(0,c.useEffect)((()=>{f||"number"!=typeof a||null!==g.current||(g.current=setTimeout((()=>{h(),g.current=null}),a))}),[a,f,h,...n]),{droppableRects:v,measureDroppableContainers:h,measuringScheduled:s}}(he,{dragging:L,dependencies:[_.x,_.y],config:null==s?void 0:s.droppable}),be=function(e,t){const n=null!==t?e[t]:void 0,r=n?n.node.current:null;return x((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}($,P),ye=ne?N(ne):null,Ce=ke(be,null!=(f=null==s||null==(v=s.draggable)?void 0:v.measure)?f:le),Ae=Oe(be?be.parentElement:null),Le=(0,c.useRef)({active:null,activeNode:be,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Be=F.getNodeFor(null==(p=Le.current.over)?void 0:p.id),je=function({measure:e=ae}){const[t,n]=(0,c.useState)(null),r=(0,c.useCallback)((t=>{for(const{target:r}of t)if(m(r)){n((t=>{const n=e(r);return t?{...t,width:n.width,height:n.height}:n}));break}}),[e]),o=Ie({onResize:r}),i=(0,c.useCallback)((t=>{const r=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return m(t)?t:e}(t);null==o||o.disconnect(),r&&(null==o||o.observe(r)),n(r?e(r):null)}),[e,o]),[s,a]=D(i);return(0,c.useMemo)((()=>({nodeRef:s,rect:t,setRef:a})),[t,s,a])}({measure:null==s||null==(b=s.dragOverlay)?void 0:b.measure}),ze=null!=(E=je.nodeRef.current)?E:be,Pe=null!=(C=je.rect)?C:Ce,$e=(0,c.useRef)(null),_e=$e.current,Fe=Pe===Ce?(Ke=_e,(qe=Ce)&&Ke?{x:qe.left-Ke.left,y:qe.top-Ke.top}:V):V;var qe,Ke;const Ue=(Xe=ze?ze.ownerDocument.defaultView:null,(0,c.useMemo)((()=>Xe?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(Xe):null),[Xe]));var Xe;const Ye=function(e){const t=(0,c.useRef)(e),n=x((n=>e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:ce(e):Ne),[e]);return(0,c.useEffect)((()=>{t.current=e}),[e]),n}(P?null!=Be?Be:ze:null),We=Te(Ye),Ve=function(e,{transform:t,...n}){return(null==e?void 0:e.length)?e.reduce(((e,t)=>t({transform:e,...n})),t):t}(a,{transform:{x:_.x-Fe.x,y:_.y-Fe.y,scaleX:1,scaleY:1},activatorEvent:ne,active:J,activeNodeRect:Ce,containerNodeRect:Ae,draggingNodeRect:Pe,over:Le.current.over,overlayNodeRect:je.rect,scrollableAncestors:Ye,scrollableAncestorRects:We,windowRect:Ue}),He=ye?S(ye,_):null,Ge=function(e){const[t,n]=(0,c.useState)(null),r=(0,c.useRef)(e),o=(0,c.useCallback)((e=>{const t=ue(e.target);t&&n((e=>e?(e.set(t,ge(t)),new Map(e)):null))}),[]);return(0,c.useEffect)((()=>{const t=r.current;if(e!==t){i(t);const s=e.map((e=>{const t=ue(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,ge(t)]):null})).filter((e=>null!=e));n(s.length?new Map(s):null),r.current=e}return()=>{i(e),i(t)};function i(e){e.forEach((e=>{const t=ue(e);null==t||t.removeEventListener("scroll",o)}))}}),[o,e]),(0,c.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>S(e,t)),V):we(e):V),[e,t])}(Ye),Je=S(Ve,Ge),Qe=Pe?ie(Pe,Ve):null,nt=J&&Qe?i({active:J,collisionRect:Qe,droppableContainers:he,pointerCoordinates:He}):null,rt=Z(nt,"id"),[ot,it]=(0,c.useState)(null),st=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Ve,null!=(M=null==ot?void 0:ot.rect)?M:null,Ce),at=(0,c.useCallback)(((e,{sensor:t,options:n})=>{if(!Q.current)return;const r=$[Q.current];if(!r)return;const o=new t({active:Q.current,activeNode:r,event:e.nativeEvent,options:n,context:Le,onStart(e){const t=Q.current;if(!t)return;const n=$[t];if(!n)return;const{onDragStart:r}=se.current,o={active:{id:t,data:n.data,rect:G}};(0,d.unstable_batchedUpdates)((()=>{T({type:z.DragStart,initialCoordinates:e,active:t}),A({type:z.DragStart,event:o})})),null==r||r(o)},onMove(e){T({type:z.DragMove,coordinates:e})},onEnd:i(z.DragEnd),onCancel:i(z.DragCancel)});function i(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=Le.current;let i=null;if(t&&o){const{cancelDrop:s}=se.current;i={active:t,collisions:n,delta:o,over:r},e===z.DragEnd&&"function"==typeof s&&await Promise.resolve(s(i))&&(e=z.DragCancel)}Q.current=null,(0,d.unstable_batchedUpdates)((()=>{if(T({type:e}),it(null),j(!1),te(null),oe(null),i&&A({type:e,event:i}),i){const{onDragCancel:t,onDragEnd:n}=se.current,r=e===z.DragEnd?n:t;null==r||r(i)}}))}}(0,d.unstable_batchedUpdates)((()=>{te(o),oe(e.nativeEvent)}))}),[$]),lt=(0,c.useCallback)(((e,t)=>(n,r)=>{const o=n.nativeEvent;null!==Q.current||o.dndKit||o.defaultPrevented||!0===e(n,t.options)&&(o.dndKit={capturedBy:t.sensor},Q.current=r,at(n,t))}),[at]),ct=function(e,t){return(0,c.useMemo)((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(o,lt);!function(e){(0,c.useEffect)((()=>{if(!h)return;const t=e.map((({sensor:e})=>null==e.setup?void 0:e.setup()));return()=>{for(const e of t)null==e||e()}}),e.map((({sensor:e})=>e)))}(o),(0,c.useEffect)((()=>{null!=P&&j(!0)}),[P]),(0,c.useEffect)((()=>{J||($e.current=null),J&&Ce&&!$e.current&&($e.current=Ce)}),[Ce,J]),(0,c.useEffect)((()=>{const{onDragMove:e}=se.current,{active:t,collisions:n,over:r}=Le.current;if(!t)return;const o={active:t,collisions:n,delta:{x:Je.x,y:Je.y},over:r};A({type:z.DragMove,event:o}),null==e||e(o)}),[Je.x,Je.y]),(0,c.useEffect)((()=>{const{active:e,collisions:t,droppableContainers:n,scrollAdjustedTranslate:r}=Le.current;if(!e||!Q.current||!r)return;const{onDragOver:o}=se.current,i=n.get(rt),s=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,a={active:e,collisions:t,delta:{x:r.x,y:r.y},over:s};(0,d.unstable_batchedUpdates)((()=>{it(s),A({type:z.DragOver,event:a}),null==o||o(a)}))}),[rt]),w((()=>{Le.current={active:J,activeNode:be,collisionRect:Qe,collisions:nt,droppableRects:fe,draggableNodes:$,draggingNode:ze,draggingNodeRect:Pe,droppableContainers:F,over:ot,scrollableAncestors:Ye,scrollAdjustedTranslate:Je},G.current={initial:Pe,translated:Qe}}),[J,be,nt,Qe,$,ze,Pe,fe,F,ot,Ye,Je]),function({acceleration:e,activator:t=De.Pointer,canScroll:n,draggingRect:r,enabled:o,interval:i=5,order:s=Ee.TreeOrder,pointerCoordinates:a,scrollableAncestors:l,scrollableAncestorRects:u,threshold:d}){const[h,g]=function(){const e=(0,c.useRef)(null);return[(0,c.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,c.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),f=(0,c.useRef)({x:1,y:1}),v=(0,c.useMemo)((()=>{switch(t){case De.Pointer:return a?{top:a.y,bottom:a.y,left:a.x,right:a.x}:null;case De.DraggableRect:return r}return null}),[t,r,a]),p=(0,c.useRef)(V),m=(0,c.useRef)(null),b=(0,c.useCallback)((()=>{const e=m.current;if(!e)return;const t=f.current.x*p.current.x,n=f.current.y*p.current.y;e.scrollBy(t,n)}),[]),w=(0,c.useMemo)((()=>s===Ee.TreeOrder?[...l].reverse():l),[s,l]);(0,c.useEffect)((()=>{if(o&&l.length&&v){for(const t of w){if(!1===(null==n?void 0:n(t)))continue;const r=l.indexOf(t),o=u[r];if(!o)continue;const{direction:s,speed:a}=me(t,o,v,e,d);if(a.x>0||a.y>0)return g(),m.current=t,h(b,i),f.current=a,void(p.current=s)}f.current={x:0,y:0},p.current={x:0,y:0},g()}else g()}),[e,b,n,g,o,i,JSON.stringify(v),h,l,w,u,JSON.stringify(d)])}({...function(){const e=!1===(null==ee?void 0:ee.autoScrollEnabled),n="object"==typeof t?!1===t.enabled:!1===t,r=!e&&!n;return"object"==typeof t?{...t,enabled:r}:{enabled:r}}(),draggingRect:Qe,pointerCoordinates:He,scrollableAncestors:Ye,scrollableAncestorRects:We});const ut=(0,c.useMemo)((()=>({active:J,activeNode:be,activeNodeRect:Ce,activatorEvent:ne,collisions:nt,containerNodeRect:Ae,dragOverlay:je,draggableNodes:$,droppableContainers:F,droppableRects:fe,over:ot,measureDroppableContainers:ve,scrollableAncestors:Ye,scrollableAncestorRects:We,measuringScheduled:pe,windowRect:Ue})),[J,be,Ce,ne,nt,Ae,je,$,F,fe,ot,ve,Ye,We,pe,Ue]),dt=(0,c.useMemo)((()=>({activatorEvent:ne,activators:ct,active:J,activeNodeRect:Ce,ariaDescribedById:{draggable:de},dispatch:T,draggableNodes:$,over:ot,measureDroppableContainers:ve})),[ne,ct,J,Ce,T,de,$,ot,ve]);return u().createElement(Y.Provider,{value:k},u().createElement(q.Provider,{value:dt},u().createElement(K.Provider,{value:ut},u().createElement(tt.Provider,{value:st},r))),u().createElement(W,{announcements:n,hiddenTextDescribedById:de,screenReaderInstructions:l}))})),rt=(0,c.createContext)(null),ot="button";const it={timeout:25};function st(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function at(e){return null!==e&&e>=0}const lt=({rects:e,activeIndex:t,overIndex:n,index:r})=>{const o=st(e,n,t),i=e[r],s=o[r];return s&&i?{x:s.left-i.left,y:s.top-i.top,scaleX:s.width/i.width,scaleY:s.height/i.height}:null},ct={scaleX:1,scaleY:1},ut=({activeIndex:e,activeNodeRect:t,index:n,rects:r,overIndex:o})=>{var i;const s=null!=(i=r[e])?i:t;if(!s)return null;if(n===e){const t=r[o];return t?{x:0,y:e<o?t.top+t.height-(s.top+s.height):t.top-s.top,...ct}:null}const a=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}(r,n,e);return n>e&&n<=o?{x:0,y:-s.height-a,...ct}:n<e&&n>=o?{x:0,y:s.height+a,...ct}:{x:0,y:0,...ct}},dt="Sortable",ht=u().createContext({activeIndex:-1,containerId:dt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:lt});function gt({children:e,id:t,items:n,strategy:r=lt}){const{active:o,dragOverlay:i,droppableRects:s,over:a,measureDroppableContainers:l,measuringScheduled:d}=(0,c.useContext)(K),h=R(dt,t),g=Boolean(null!==i.rect),f=(0,c.useMemo)((()=>n.map((e=>"string"==typeof e?e:e.id))),[n]),v=null!=o,p=o?f.indexOf(o.id):-1,m=a?f.indexOf(a.id):-1,b=(0,c.useRef)(f),y=function(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}(f,s),x=(D=f,E=b.current,!(D.join()===E.join()));var D,E;const C=-1!==m&&-1===p||x;w((()=>{x&&v&&!d&&l(f)}),[x,f,v,l,d]),(0,c.useEffect)((()=>{b.current=f}),[f]);const S=(0,c.useMemo)((()=>({activeIndex:p,containerId:h,disableTransforms:C,items:f,overIndex:m,useDragOverlay:g,sortedRects:y,strategy:r})),[p,h,C,f,m,y,g,r]);return u().createElement(ht.Provider,{value:S},e)}const ft=({id:e,items:t,activeIndex:n,overIndex:r})=>st(t,n,r).indexOf(e),vt=({containerId:e,isSorting:t,wasDragging:n,index:r,items:o,newIndex:i,previousItems:s,previousContainerId:a,transition:l})=>!(!l||!n||s!==o&&r===i||!t&&(i===r||e!==a)),pt={duration:200,easing:"ease"},mt="transform",bt=O.Transition.toString({property:mt,duration:0,easing:"linear"}),wt={roleDescription:"sortable"};function yt({animateLayoutChanges:e=vt,attributes:t,disabled:n,data:r,getNewIndex:o=ft,id:i,strategy:s,resizeObserverConfig:a,transition:l=pt}){const{items:u,containerId:d,activeIndex:h,disableTransforms:g,sortedRects:f,overIndex:v,useDragOverlay:p,strategy:m}=(0,c.useContext)(ht),b=u.indexOf(i),x=(0,c.useMemo)((()=>({sortable:{containerId:d,index:b,items:u},...r})),[d,r,b,u]),E=(0,c.useMemo)((()=>u.slice(u.indexOf(i))),[u,i]),{rect:C,node:S,isOver:M,setNodeRef:N}=function({data:e,disabled:t=!1,id:n,resizeObserverConfig:r}){const o=R("Droppable"),{active:i,dispatch:s,over:a,measureDroppableContainers:l}=(0,c.useContext)(q),u=(0,c.useRef)(!1),d=(0,c.useRef)(null),h=(0,c.useRef)(null),{disabled:g,updateMeasurementsFor:f,timeout:v}={...it,...r},p=y(null!=f?f:n),m=Ie({onResize:(0,c.useCallback)((()=>{u.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout((()=>{l("string"==typeof p.current?[p.current]:p.current),h.current=null}),v)):u.current=!0}),[v]),disabled:g||!i}),b=(0,c.useCallback)(((e,t)=>{m&&(t&&(m.unobserve(t),u.current=!1),e&&m.observe(e))}),[m]),[x,E]=D(b),C=y(e);return(0,c.useEffect)((()=>{m&&x.current&&(m.disconnect(),u.current=!1,m.observe(x.current))}),[x,m]),w((()=>(s({type:z.RegisterDroppable,element:{id:n,key:o,disabled:t,node:x,rect:d,data:C}}),()=>s({type:z.UnregisterDroppable,key:o,id:n}))),[n]),(0,c.useEffect)((()=>{s({type:z.SetDroppableDisabled,id:n,key:o,disabled:t})}),[t]),{active:i,rect:d,isOver:(null==a?void 0:a.id)===n,node:x,over:a,setNodeRef:E}}({id:i,data:x,resizeObserverConfig:{updateMeasurementsFor:E,...a}}),{active:T,activatorEvent:k,activeNodeRect:A,attributes:L,setNodeRef:B,listeners:j,isDragging:P,over:$,transform:_}=function({id:e,data:t,disabled:n=!1,attributes:r}){const o=R("Droppable"),{activators:i,activatorEvent:s,active:a,activeNodeRect:l,ariaDescribedById:u,draggableNodes:d,over:h}=(0,c.useContext)(q),{role:g=ot,roleDescription:f="draggable",tabIndex:v=0}=null!=r?r:{},p=(null==a?void 0:a.id)===e,m=(0,c.useContext)(p?tt:rt),[b,x]=D(),E=function(e,t){return(0,c.useMemo)((()=>e.reduce(((e,{eventName:n,handler:r})=>(e[n]=e=>{r(e,t)},e)),{})),[e,t])}(i,e),C=y(t);return w((()=>(d[e]={id:e,key:o,node:b,data:C},()=>{const t=d[e];t&&t.key===o&&delete d[e]})),[d,e]),{active:a,activatorEvent:s,activeNodeRect:l,attributes:(0,c.useMemo)((()=>({role:g,tabIndex:v,"aria-pressed":!(!p||g!==ot)||void 0,"aria-roledescription":f,"aria-describedby":u.draggable})),[g,v,p,f,u.draggable]),isDragging:p,listeners:n?void 0:E,node:b,over:h,setNodeRef:x,transform:m}}({id:i,data:x,attributes:{...wt,...t},disabled:n}),F=function(...e){return(0,c.useMemo)((()=>t=>{e.forEach((e=>e(t)))}),e)}(N,B),K=Boolean(T),U=K&&!g&&at(h)&&at(v),X=!p&&P,Y=X&&U?_:null,W=U?null!=Y?Y:(null!=s?s:m)({rects:f,activeNodeRect:A,activeIndex:h,overIndex:v,index:b}):null,V=at(h)&&at(v)?o({id:i,items:u,activeIndex:h,overIndex:v}):b,H=null==T?void 0:T.id,G=(0,c.useRef)({activeId:H,items:u,newIndex:V,containerId:d}),J=u!==G.current.items,Q=e({active:T,containerId:d,isDragging:P,isSorting:K,id:i,index:b,items:u,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:l,wasDragging:null!=G.current.activeId}),Z=function({disabled:e,index:t,node:n,rect:r}){const[o,i]=(0,c.useState)(null),s=(0,c.useRef)(t);return w((()=>{if(!e&&t!==s.current&&n.current){const e=r.current;if(e){const t=ae(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&i(r)}}t!==s.current&&(s.current=t)}),[e,t,n,r]),(0,c.useEffect)((()=>{o&&requestAnimationFrame((()=>{i(null)}))}),[o]),o}({disabled:!Q,index:b,node:S,rect:C});return(0,c.useEffect)((()=>{K&&G.current.newIndex!==V&&(G.current.newIndex=V),d!==G.current.containerId&&(G.current.containerId=d),u!==G.current.items&&(G.current.items=u),H!==G.current.activeId&&(G.current.activeId=H)}),[H,K,V,d,u]),{active:T,activeIndex:h,attributes:L,rect:C,index:b,newIndex:V,items:u,isOver:M,isSorting:K,isDragging:P,listeners:j,node:S,overIndex:v,over:$,setNodeRef:F,setDroppableNodeRef:N,setDraggableNodeRef:B,transform:null!=Z?Z:W,transition:Z||J&&G.current.newIndex===b?bt:X&&!I(k)||!l?void 0:K||Q?O.Transition.toString({...l,property:mt}):void 0}}const xt=[$e.Down,$e.Right,$e.Up,$e.Left],Dt=(e,{context:{active:t,droppableContainers:n,collisionRect:r,scrollableAncestors:o}})=>{if(xt.includes(e.code)){if(e.preventDefault(),!t||!r)return;const i=[];n.getEnabled().forEach((t=>{if(!t||(null==t?void 0:t.disabled))return;const n=null==t?void 0:t.rect.current;if(n)switch(e.code){case $e.Down:r.top+r.height<=n.top&&i.push(t);break;case $e.Up:r.top>=n.top+n.height&&i.push(t);break;case $e.Left:r.left>=n.left+n.width&&i.push(t);break;case $e.Right:r.left+r.width<=n.left&&i.push(t)}}));const s=(({collisionRect:e,droppableContainers:t})=>{const n=Q(e),r=[];for(const e of t){const{id:t,rect:{current:o}}=e;if(o){const i=Q(o),s=n.reduce(((e,t,n)=>e+H(i[n],t)),0),a=Number((s/4).toFixed(4));r.push({id:t,data:{droppableContainer:e,value:a}})}}return r.sort(G)})({active:t,collisionRect:r,droppableContainers:i,pointerCoordinates:null}),a=Z(s,"id");if(null!=a){const e=n.get(a),t=null==e?void 0:e.node.current,i=null==e?void 0:e.rect.current;if(t&&i){const e=ce(t).some(((e,t)=>o[t]!==e))?{x:0,y:0}:{x:r.width-i.width,y:r.height-i.height};return{x:i.left-e.x,y:i.top-e.y}}}}};function Et(n){let{Component:r,disabled:o=!1,...i}=n;const{attributes:s,listeners:a,setNodeRef:l,transform:c,transition:u,isDragging:d}=yt({id:i.id,disabled:o}),h={style:{transform:O.Translate.toString(c),transition:u},isDragging:d,...s,...a};return(0,e.createElement)(r,t({ref:l},i,h))}const Rt=n=>{let{items:r,disabled:o=!1,onChange:i}=n;const[s,a]=(0,e.useState)((()=>r.map((e=>e.id))));(0,e.useEffect)((()=>{i&&i(s)}),[s]);const l=function(...e){return(0,c.useMemo)((()=>[...e].filter((e=>null!=e))),[...e])}(Be(He),Be(Ue,{coordinateGetter:Dt}));return(0,e.createElement)(nt,{sensors:l,collisionDetection:te,onDragEnd:function(e){const{active:t,over:n}=e;t.id!==n.id&&a((e=>{const r=e.indexOf(t.id),o=e.indexOf(n.id);return st(e,r,o)}))}},(0,e.createElement)(gt,{items:s,strategy:ut},s.map((n=>(0,e.createElement)(Et,t({key:n,id:n,disabled:o},(e=>r.find((t=>t.id===e)))(n)))))))};function Ct(t){let{id:n,answers:r=[],disabled:o=!1,onChange:i}=t;const s=r.map((e=>({Component:l,...e,questionId:n})));return(0,e.createElement)("ol",{className:"sensei-ordering-answers"},(0,e.createElement)(Rt,{items:s,disabled:o,onChange:i}))}const St=window.wp.domReady;n.n(St)()((()=>{const t=window.sensei_ordering_questions;Object.keys(t).forEach((n=>{const r=document.getElementById(`sensei-ordering-question-${n}`);t[n].question.answers.length>0&&(0,e.render)((0,e.createElement)(Ct,t[n].question),r)}))}))})()})();