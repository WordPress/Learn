(()=>{var e={2485:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var l=s.apply(null,n);l&&e.push(l)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var i in n)r.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},7316:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.i18n,t=window.wp.element;var r=n(2485),s=n.n(r);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var i=n(7316),a=n.n(i);const c=window.wp.blockEditor,u=window.wp.keycodes,p=(0,t.forwardRef)(((e,n)=>{let{onChange:r,onKeyDown:s,value:o,onEnter:i,onRemove:p,...d}=e;return(0,t.createElement)(c.PlainText,l({ref:n,value:o,onChange:e=>{r(e.replace(/\n/g,""))},onKeyDown:e=>{switch(s&&s(e),e.keyCode){case u.ENTER:e.preventDefault(),i&&i(e);break;case u.BACKSPACE:!p||null!=o&&o.length||(e.preventDefault(),p())}}},d,{className:a()("sensei-lms-single-line-input",d.className)}))})),d=function({icon:e,size:n=24,...r}){return(0,t.cloneElement)(e,{width:n,height:n,...r})},w=window.wp.primitives,v=(0,t.createElement)(w.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},(0,t.createElement)(w.Path,{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"})),m=window.wp.components;function f(n){const{moveAnswer:r,hideControls:s,upDisabled:o=!1,downDisabled:l=!1}=n;return s?(0,t.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__control"}):(0,t.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__control"},(0,t.createElement)(m.Button,{className:"sensei-lms-question-block__ordering-answer-option__control-move-up",icon:"arrow-up-alt2",label:(0,e.__)("Move up","sensei-pro"),onClick:()=>r("up"),disabled:o}),(0,t.createElement)(m.Button,{className:"sensei-lms-question-block__ordering-answer-option__control-move-up",icon:"arrow-down-alt2",label:(0,e.__)("Move down","sensei-pro"),onClick:()=>r("down"),disabled:l}))}const h=n=>{const{attributes:{label:r},setAttributes:s,hasFocus:l,moveAnswer:i,isFirst:a,isLast:c,hasSelected:u,...w}=n,m=(0,t.useRef)(null);return(0,t.useEffect)((()=>{if(l){var e;const t=(null===(e=m.current)||void 0===e?void 0:e.textarea)||m.current;null==t||t.focus()}}),[l,m]),(0,t.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option"},u&&(0,t.createElement)(f,{moveAnswer:i,hideControls:!r,upDisabled:a,downDisabled:c}),!u&&(0,t.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__drag-placeholder"},(0,t.createElement)(d,{icon:v,size:18})),(0,t.createElement)(p,o({ref:m,placeholder:(0,e.__)("Add Answer","sensei-pro"),className:"sensei-lms-question-block__ordering-answer-option__input",onChange:e=>s({label:e}),value:r},w)))},b=[{label:""},{label:""}],g=e=>{var n,r;const{setAttributes:s,hasSelected:o}=e;let{attributes:{answers:l=[]}}=e;0===l.length&&(l=b);const i=!(null!==(n=l[l.length-1])&&void 0!==n&&n.label),a=[...l];o&&!i&&a.push({label:""}),(0,t.useEffect)((()=>{const e=l.filter((e=>e.hasOwnProperty("correct")));null!=e&&e.length&&s({answers:l.map((e=>(delete e.correct,e)))})}),[l]);const[c,u]=(0,t.useState)(null);let p=a.length-1;return null!==(r=a[a.length-1])&&void 0!==r&&r.label||(p=a.length-2),(0,t.createElement)(g.Options,{answers:a},((e,n)=>(0,t.createElement)(h,{hasFocus:n===c,attributes:e,setAttributes:e=>((e,t)=>{{const n=[...l];n[e]={...n[e],...t},s({answers:n})}})(n,e),onEnter:()=>(e=>{const t=[...l];t.splice(e+1,0,{label:""}),s({answers:t}),u(e+1)})(n),onRemove:()=>(e=>{if(1===l.length)return;u(e-1);const t=[...l];t.splice(e,1),s({answers:t})})(n),moveAnswer:e=>((e,t)=>{const n="up"===t?e-1:e+1;if(n<0||n>=l.length)return;const r=[...l],o=r[n];r[n]=r[e],r[e]=o,s({answers:r})})(n,e),isFirst:0===n,isLast:n===p,hasSelected:o})))};g.Options=e=>{let{answers:n,children:r}=e;return(0,t.createElement)("ol",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--ordering"},n.map(((e,n)=>(0,t.createElement)("li",{key:n,className:s()("sensei-lms-question-block__answer--ordering__option",{"is-draft":!e.label})},r(e,n)))))},g.view=e=>{let{attributes:{answers:n=[]}}=e;return(0,t.createElement)(g.Options,{answers:n},(e=>(0,t.createElement)(t.Fragment,null,e.label)))};const _=g,y={title:(0,e.__)("Ordering","sensei-pro"),description:(0,e.__)("Place the answers in the correct order.","sensei-pro"),edit:_,view:_.view},E=window.wp.hooks,k={ordering:{...y,subtitle:n=>{let{isQuestionSelected:r}=n;return r?(0,t.createElement)("p",{className:"sensei-lms-question-block__subtitle"},(0,e.__)("Answers will be randomly shuffled on the quiz.","sensei-pro")):null},settings:[],feedback:!0,validate:function(){let{answers:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{noAnswers:e.filter((e=>e.label)).length<2}},messages:{noAnswers:(0,e.__)("Add at least two answers","sensei-pro")}}};(0,E.addFilter)("sensei-lms.Question.questionTypes","sensei-pro/ordering-question-type",(function(e){return{...e,...k}}))})()})();