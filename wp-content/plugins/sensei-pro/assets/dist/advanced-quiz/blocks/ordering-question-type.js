!function(){var e={184:function(e,n){var t;!function(){"use strict";var s={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)){if(t.length){var l=r.apply(null,t);l&&e.push(l)}}else if("object"===o)if(t.toString===Object.prototype.toString)for(var i in t)s.call(t,i)&&t[i]&&e.push(i);else e.push(t.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(t=function(){return r}.apply(n,[]))||(e.exports=t)}()}},n={};function t(s){var r=n[s];if(void 0!==r)return r.exports;var o=n[s]={exports:{}};return e[s](o,o.exports,t),o.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){"use strict";var e=window.wp.i18n,n=window.wp.hooks,s=window.wp.element,r=t(184),o=t.n(r);function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},l.apply(this,arguments)}var i=function({icon:e,size:n=24,...t}){return(0,s.cloneElement)(e,{width:n,height:n,...t})},a=window.wp.primitives,c=(0,s.createElement)(a.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},(0,s.createElement)(a.Path,{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"})),u=window.wp.components;function d(n){const{moveAnswer:t,hideControls:r,upDisabled:o=!1,downDisabled:l=!1}=n;return r?(0,s.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__control"}):(0,s.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__control"},(0,s.createElement)(u.Button,{className:"sensei-lms-question-block__ordering-answer-option__control-move-up",icon:"arrow-up-alt2",label:(0,e.__)("Move up","sensei-beograd"),onClick:()=>t("up"),disabled:o}),(0,s.createElement)(u.Button,{className:"sensei-lms-question-block__ordering-answer-option__control-move-up",icon:"arrow-down-alt2",label:(0,e.__)("Move down","sensei-beograd"),onClick:()=>t("down"),disabled:l}))}var p=window.wp.blockEditor,w=window.wp.keycodes,m=(0,s.forwardRef)(((e,n)=>{let{onChange:t,onKeyDown:r,value:i,onEnter:a,onRemove:c,...u}=e;return(0,s.createElement)(p.PlainText,l({ref:n,value:i,onChange:e=>{t(e.replace(/\n/g,""))},onKeyDown:e=>{switch(r&&r(e),e.keyCode){case w.ENTER:e.preventDefault(),a&&a(e);break;case w.BACKSPACE:!c||null!=i&&i.length||(e.preventDefault(),c())}}},u,{className:o()("sensei-lms-single-line-input",u.className)}))})),v=n=>{const{attributes:{label:t},setAttributes:r,hasFocus:o,moveAnswer:a,isFirst:u,isLast:p,hasSelected:w,...v}=n,h=(0,s.useRef)(null);return(0,s.useEffect)((()=>{if(o){var e;const n=(null===(e=h.current)||void 0===e?void 0:e.textarea)||h.current;null==n||n.focus()}}),[o,h]),(0,s.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option"},w&&(0,s.createElement)(d,{moveAnswer:a,hideControls:!t,upDisabled:u,downDisabled:p}),!w&&(0,s.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__drag-placeholder"},(0,s.createElement)(i,{icon:c,size:18})),(0,s.createElement)(m,l({ref:h,placeholder:(0,e.__)("Add Answer","sensei-pro"),className:"sensei-lms-question-block__ordering-answer-option__input",onChange:e=>r({label:e}),value:t},v)))};const h=[{label:""},{label:""}],f=e=>{var n,t;const{setAttributes:r,hasSelected:o}=e;let{attributes:{answers:l=[]}}=e;0===l.length&&(l=h);const i=!(null!==(n=l[l.length-1])&&void 0!==n&&n.label),a=[...l];o&&!i&&a.push({label:""}),(0,s.useEffect)((()=>{const e=l.filter((e=>e.hasOwnProperty("correct")));null!=e&&e.length&&r({answers:l.map((e=>(delete e.correct,e)))})}),[l]);const[c,u]=(0,s.useState)(null);let d=a.length-1;return null!==(t=a[a.length-1])&&void 0!==t&&t.label||(d=a.length-2),(0,s.createElement)(f.Options,{answers:a},((e,n)=>(0,s.createElement)(v,{hasFocus:n===c,attributes:e,setAttributes:e=>((e,n)=>{{const t=[...l];t[e]={...t[e],...n},r({answers:t})}})(n,e),onEnter:()=>(e=>{const n=[...l];n.splice(e+1,0,{label:""}),r({answers:n}),u(e+1)})(n),onRemove:()=>(e=>{if(1===l.length)return;u(e-1);const n=[...l];n.splice(e,1),r({answers:n})})(n),moveAnswer:e=>((e,n)=>{const t="up"===n?e-1:e+1;if(t<0||t>=l.length)return;const s=[...l],o=s[t];s[t]=s[e],s[e]=o,r({answers:s})})(n,e),isFirst:0===n,isLast:n===d,hasSelected:o})))};f.Options=e=>{let{answers:n,children:t}=e;return(0,s.createElement)("ol",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--ordering"},n.map(((e,n)=>(0,s.createElement)("li",{key:n,className:o()("sensei-lms-question-block__answer--ordering__option",{"is-draft":!e.label})},t(e,n)))))},f.view=e=>{let{attributes:{answers:n=[]}}=e;return(0,s.createElement)(f.Options,{answers:n},(e=>(0,s.createElement)(s.Fragment,null,e.label)))};var b=f;const _={ordering:{title:(0,e.__)("Ordering","sensei-pro"),description:(0,e.__)("Place the answers in the correct order.","sensei-pro"),edit:b,view:b.view,subtitle:n=>{let{isQuestionSelected:t}=n;return t?(0,s.createElement)("p",{className:"sensei-lms-question-block__subtitle"},(0,e.__)("Answers will be randomly shuffled on the quiz.","sensei-pro")):null},settings:[],feedback:!0,validate:function(){let{answers:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{noAnswers:e.filter((e=>e.label)).length<2}},messages:{noAnswers:(0,e.__)("Add at least two answers","sensei-pro")}}};(0,n.addFilter)("sensei-lms.Question.questionTypes","sensei-pro/ordering-question-type",(function(e){return{...e,..._}}))}()}();