(()=>{var e={4184:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var l=r.apply(null,n);l&&e.push(l)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var i in n)s.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},4794:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var l=r.apply(null,n);l&&e.push(l)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var i in n)s.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.i18n,t=window.wp.element;var s=n(4184),r=n.n(s);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(this,arguments)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l.apply(this,arguments)}var i=n(4794),a=n.n(i);const c=window.wp.blockEditor,u=window.wp.keycodes,p=(0,t.forwardRef)(((e,n)=>{let{onChange:s,onKeyDown:r,value:o,onEnter:i,onRemove:p,...w}=e;return(0,t.createElement)(c.PlainText,l({ref:n,value:o,onChange:e=>{s(e.replace(/\n/g,""))},onKeyDown:e=>{switch(r&&r(e),e.keyCode){case u.ENTER:e.preventDefault(),i&&i(e);break;case u.BACKSPACE:p&&!o?.length&&(e.preventDefault(),p())}}},w,{className:a()("sensei-lms-single-line-input",w.className)}))})),w=function({icon:e,size:n=24,...s}){return(0,t.cloneElement)(e,{width:n,height:n,...s})},d=window.wp.primitives,h=(0,t.createElement)(d.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},(0,t.createElement)(d.Path,{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"})),m=window.wp.components;function v(n){const{moveAnswer:s,hideControls:r,upDisabled:o=!1,downDisabled:l=!1}=n;return r?(0,t.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__control"}):(0,t.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__control"},(0,t.createElement)(m.Button,{className:"sensei-lms-question-block__ordering-answer-option__control-move-up",icon:"arrow-up-alt2",label:(0,e.__)("Move up","sensei-pro"),onClick:()=>s("up"),disabled:o}),(0,t.createElement)(m.Button,{className:"sensei-lms-question-block__ordering-answer-option__control-move-up",icon:"arrow-down-alt2",label:(0,e.__)("Move down","sensei-pro"),onClick:()=>s("down"),disabled:l}))}const f=n=>{const{attributes:{label:s},setAttributes:r,hasFocus:l,moveAnswer:i,isFirst:a,isLast:c,hasSelected:u,...d}=n,m=(0,t.useRef)(null);return(0,t.useEffect)((()=>{l&&(m.current?.textarea||m.current)?.focus()}),[l,m]),(0,t.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option"},u&&(0,t.createElement)(v,{moveAnswer:i,hideControls:!s,upDisabled:a,downDisabled:c}),!u&&(0,t.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__drag-placeholder"},(0,t.createElement)(w,{icon:h,size:18})),(0,t.createElement)(p,o({ref:m,placeholder:(0,e.__)("Add Answer","sensei-pro"),className:"sensei-lms-question-block__ordering-answer-option__input",onChange:e=>r({label:e}),value:s},d)))},b=[{label:""},{label:""}],g=e=>{const{setAttributes:n,hasSelected:s}=e;let{attributes:{answers:r=[]}}=e;0===r.length&&(r=b);const o=!r[r.length-1]?.label,l=[...r];s&&!o&&l.push({label:""}),(0,t.useEffect)((()=>{r.filter((e=>e.hasOwnProperty("correct")))?.length&&n({answers:r.map((e=>(delete e.correct,e)))})}),[r]);const[i,a]=(0,t.useState)(null);let c=l.length-1;return l[l.length-1]?.label||(c=l.length-2),(0,t.createElement)(g.Options,{answers:l},((e,o)=>(0,t.createElement)(f,{hasFocus:o===i,attributes:e,setAttributes:e=>((e,t)=>{{const s=[...r];s[e]={...s[e],...t},n({answers:s})}})(o,e),onEnter:()=>(e=>{const t=[...r];t.splice(e+1,0,{label:""}),n({answers:t}),a(e+1)})(o),onRemove:()=>(e=>{if(1===r.length)return;a(e-1);const t=[...r];t.splice(e,1),n({answers:t})})(o),moveAnswer:e=>((e,t)=>{const s="up"===t?e-1:e+1;if(s<0||s>=r.length)return;const o=[...r],l=o[s];o[s]=o[e],o[e]=l,n({answers:o})})(o,e),isFirst:0===o,isLast:o===c,hasSelected:s})))};g.Options=e=>{let{answers:n,children:s}=e;return(0,t.createElement)("ol",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--ordering"},n.map(((e,n)=>(0,t.createElement)("li",{key:n,className:r()("sensei-lms-question-block__answer--ordering__option",{"is-draft":!e.label})},s(e,n)))))},g.view=e=>{let{attributes:{answers:n=[]}}=e;return(0,t.createElement)(g.Options,{answers:n},(e=>(0,t.createElement)(t.Fragment,null,e.label)))};const _=g,y={title:(0,e.__)("Ordering","sensei-pro"),description:(0,e.__)("Place the answers in the correct order.","sensei-pro"),edit:_,view:_.view},E=window.wp.hooks,k={ordering:{...y,subtitle:n=>{let{isQuestionSelected:s}=n;return s?(0,t.createElement)("p",{className:"sensei-lms-question-block__subtitle"},(0,e.__)("Answers will be randomly shuffled on the quiz.","sensei-pro")):null},settings:[],feedback:!0,validate:function(){let{answers:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{noAnswers:e.filter((e=>e.label)).length<2}},messages:{noAnswers:(0,e.__)("Add at least two answers","sensei-pro")}}};(0,E.addFilter)("sensei-lms.Question.questionTypes","sensei-pro/ordering-question-type",(function(e){return{...e,...k}}))})()})();