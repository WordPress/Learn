(()=>{"use strict";const e=window.React,t=window.wp.components,n=window.wp.data,o=window.wp.date,r=window.wp.editPost,a=window.wp.element,i=window.wp.i18n,l=window.wp.plugins;function s({date:e}){const t=(0,o.__experimentalGetSettings)();return e?(0,o.format)(`${t.formats.date} ${t.formats.time}`,e):(0,i.__)("No expiration date","wporg-learn")}const c=()=>{const o=(0,n.useSelect)((e=>e("core/editor").getEditedPostAttribute("meta")||{})),{editPost:l}=(0,n.useDispatch)("core/editor"),[c,d]=(0,a.useState)(o?.expiration_date),p=(0,a.useRef)(),m=(0,a.useRef)();return(0,e.createElement)(r.PluginPostStatusInfo,null,(0,e.createElement)(t.PanelRow,{className:"edit-post-post-schedule",ref:p},(0,e.createElement)("span",null,(0,i.__)("Expiration","wporg-learn")),(0,e.createElement)(t.Dropdown,{popoverProps:{anchorRef:p.current},position:"bottom left",contentClassName:"edit-post-post-schedule__dialog",renderToggle:({onToggle:n,isOpen:o})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.Button,{className:"edit-post-post-schedule__toggle",onClick:n,"aria-expanded":o,variant:"tertiary"},(0,e.createElement)(s,{date:c}))),renderContent:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",{style:{padding:"0 16px"}},(0,i.__)("A date when the content in this post might become obsolete.","wporg-learn")),(0,e.createElement)(t.DateTimePicker,{ref:m,currentDate:c,onChange:e=>{d(e),l({meta:{...o,expiration_date:e}});const{ownerDocument:t}=m.current;t.activeElement.blur()}}))})))};(0,l.registerPlugin)("wporg-learn-expiration-date",{render:()=>(0,e.createElement)(c,null)})})();